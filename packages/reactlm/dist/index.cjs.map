{"version":3,"sources":["../src/index.ts","../src/components/Toolbar.tsx","../src/db/simple-storage.ts","../src/styles/tokens.ts","../src/styles/theme.ts","../src/styles/utilities.ts","../src/components/Toolbar.styles.ts","../src/components/ComponentInspector.tsx","../src/instrumentation/bippy-adapter.ts","../src/utils/react-detector.ts","../src/components/ContextSelector.tsx","../src/utils/event-emitter.ts","../src/llm/openrouter-client.ts","../src/llm/providers.ts","../src/monitoring/console-monitor.ts","../src/monitoring/network-monitor.ts","../src/monitoring/performance-monitor.ts","../src/monitoring/dom-monitor.ts","../src/monitoring/devtools-protocol.ts","../src/monitoring/monitor-manager.ts"],"sourcesContent":["/** @jsx h */\nimport { h, render } from 'preact';\nimport { Toolbar } from './components/Toolbar';\nimport { LLMHub } from './llm/providers';\nimport { reactDetector, waitForReact } from './utils/react-detector';\nimport { ComponentInspector } from './instrumentation/bippy-adapter';\nimport { MonitorManager } from './monitoring/monitor-manager';\n\ninterface ReactLMConfig {\n  providers?: {\n    openrouter?: string;\n    openai?: string;\n    anthropic?: string;\n    google?: string;\n  };\n  // API endpoint mode (for server-side proxy)\n  apiEndpoint?: string;\n  modelsEndpoint?: string;\n  mode?: 'development' | 'production' | 'demo';\n  position?: 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left';\n  theme?: 'dark' | 'light';\n  siteUrl?: string;\n  siteName?: string;\n  debug?: boolean;\n  // Legacy support\n  apiKey?: string;\n}\n\ninterface ReactLMGlobal {\n  init: (config: ReactLMConfig | string) => void;\n  hub?: LLMHub;\n  inspector?: ComponentInspector;\n  monitorManager?: MonitorManager;\n  debug?: boolean;\n}\n\ndeclare global {\n  interface Window {\n    ReactLM: ReactLMGlobal;\n  }\n}\n\nlet isInitialized = false;\n\nconst init = async (config: ReactLMConfig | string) => {\n  // Prevent multiple initializations\n  if (isInitialized) {\n    console.warn('[ReactLM] Already initialized, ignoring duplicate init call');\n    return;\n  }\n  \n  try {\n    isInitialized = true;\n    \n    // Handle legacy string API key format\n    const normalizedConfig: ReactLMConfig = typeof config === 'string' \n      ? { providers: { openrouter: config } }\n      : config;\n\n    // Enable debug mode if requested\n    if (normalizedConfig.debug) {\n      window.ReactLM.debug = true;\n    }\n\n    console.log('[ReactLM] Initializing ReactLM...');\n\n    // Step 1: Initialize React detection and bippy instrumentation early\n    await initializeReactInstrumentation();\n\n    // Step 2: Create a single container with shadow DOM (following react-scan pattern)\n    const container = document.createElement('div');\n    container.id = 'reactlm-root';\n    // Critical: Set pointer-events: none on container, only the toolbar inside will have pointer-events: auto\n    container.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 0;\n      height: 0;\n      pointer-events: none;\n      z-index: 2147483645;\n    `;\n    \n    document.body.appendChild(container);\n\n    // Create shadow root for style isolation\n    const shadow = container.attachShadow({ mode: 'open' });\n    \n    // Create root div inside shadow DOM\n    const root = document.createElement('div');\n    root.id = 'reactlm-shadow-root';\n    root.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      pointer-events: none;\n    `;\n    shadow.appendChild(root);\n\n    // Step 3: Initialize LLM Hub\n    const hub = new LLMHub();\n    \n    // Initialize providers based on config\n    if (normalizedConfig.mode === 'demo') {\n      // Demo mode - no API keys needed!\n      await hub.initializeDemoMode();\n    } else if (normalizedConfig.apiEndpoint) {\n      // Use API endpoint mode (for server-side proxy)\n      await hub.initializeApiMode(normalizedConfig.apiEndpoint, normalizedConfig.modelsEndpoint);\n    } else if (normalizedConfig.providers?.openrouter || normalizedConfig.apiKey) {\n      // Direct API key mode (for development)\n      await hub.initializeProvider('openrouter', \n        normalizedConfig.providers?.openrouter || normalizedConfig.apiKey!, \n        {\n          siteUrl: normalizedConfig.siteUrl,\n          siteName: normalizedConfig.siteName\n        }\n      );\n    } else {\n      // Default to demo mode if nothing configured\n      await hub.initializeDemoMode();\n    }\n    \n    // Step 4: Initialize monitoring system (disabled by default to avoid interference)\n    const monitorManager = new MonitorManager();\n    // Only start monitoring if explicitly in development mode\n    if (normalizedConfig.mode === 'development') {\n      console.log('[ReactLM] Starting monitoring in development mode');\n      monitorManager.start();\n    }\n    \n    // Store globals for debugging (ensure global object exists)\n    if (!window.ReactLM) {\n      window.ReactLM = { init };\n    }\n    window.ReactLM.hub = hub;\n    window.ReactLM.monitorManager = monitorManager;\n\n    // Step 5: Pass everything to Toolbar\n    render(h(Toolbar, { \n      hub,\n      monitorManager,\n      shadowRoot: root // Pass shadow root so toolbar can render overlays inside it\n    }), root);\n    \n    console.log('[ReactLM] Initialized successfully in', normalizedConfig.apiEndpoint ? 'API mode' : 'direct mode');\n    \n    // Debug: Check if any elements are blocking the page\n    if (normalizedConfig.debug) {\n      debugCheckBlockingElements();\n    }\n  } catch (error) {\n    isInitialized = false; // Reset flag on error so retry is possible\n    console.error('[ReactLM] Failed to initialize:', error);\n    throw error;\n  }\n};\n\n/**\n * Initialize React detection and bippy instrumentation early\n */\nasync function initializeReactInstrumentation(): Promise<void> {\n  try {\n    console.log('[ReactLM] Starting React detection...');\n    \n    // Wait for React to be detected (up to 5 seconds)\n    const reactResult = await waitForReact(5000);\n    \n    if (!reactResult.isReact) {\n      console.warn('[ReactLM] React not detected, component inspection will be limited');\n      return;\n    }\n    \n    console.log('[ReactLM] React detected:', reactResult.version);\n    \n    // Initialize bippy instrumentation\n    const inspector = new ComponentInspector();\n    \n    // Store inspector globally for debugging (ensure global object exists)\n    if (!window.ReactLM) {\n      window.ReactLM = { init };\n    }\n    window.ReactLM.inspector = inspector;\n    \n    // Wait a bit for React to render initial components\n    await new Promise(resolve => setTimeout(resolve, 100));\n    \n    console.log('[ReactLM] Component instrumentation ready');\n  } catch (error) {\n    console.warn('[ReactLM] React detection failed:', error instanceof Error ? error.message : String(error));\n    console.warn('[ReactLM] Component inspection will be limited');\n  }\n}\n\n/**\n * Debug utility to check for elements that might be blocking page interaction\n */\nfunction debugCheckBlockingElements() {\n  console.log('[ReactLM Debug] Checking for blocking elements...');\n  \n  // Check all elements at viewport corners and center\n  const points = [\n    { x: 10, y: 10, name: 'top-left' },\n    { x: window.innerWidth - 10, y: 10, name: 'top-right' },\n    { x: 10, y: window.innerHeight - 10, name: 'bottom-left' },\n    { x: window.innerWidth - 10, y: window.innerHeight - 10, name: 'bottom-right' },\n    { x: window.innerWidth / 2, y: window.innerHeight / 2, name: 'center' }\n  ];\n  \n  points.forEach(point => {\n    const element = document.elementFromPoint(point.x, point.y);\n    if (element) {\n      const styles = window.getComputedStyle(element);\n      console.log(`[ReactLM Debug] Element at ${point.name}:`, {\n        element,\n        id: element.id,\n        className: element.className,\n        pointerEvents: styles.pointerEvents,\n        position: styles.position,\n        zIndex: styles.zIndex\n      });\n      \n      // Check if it's one of ours blocking things\n      if (element.id && element.id.includes('reactlm')) {\n        console.warn(`[ReactLM Debug] Found ReactLM element potentially blocking at ${point.name}!`);\n      }\n    }\n  });\n}\n\n// Export for both CommonJS/ESM and IIFE builds\n// The IIFE build will automatically create window.ReactLM from this export\nexport default {\n  init\n};\n\nexport { init };","/** @jsx h */\nimport { h, Fragment, render } from 'preact';\nimport { useSignal, effect, batch } from '@preact/signals';\nimport { useEffect } from 'preact/hooks';\nimport { marked } from 'marked';\n// Using simple storage to avoid SQLite WASM loading issues\nimport { initDB, createChatSession, createMessage, getChatSessions, getMessagesForChatSession, deleteChatSession } from '../db/simple-storage';\nimport { styles } from './Toolbar.styles';\nimport { LLMHub } from '../llm/providers';\nimport type { Message, Model } from '../llm/openrouter';\nimport { ComponentInspector } from './ComponentInspector';\nimport { ContextSelector } from './ContextSelector';\nimport type { ComponentInfo } from '../instrumentation/bippy-adapter';\nimport { MonitorManager } from '../monitoring/monitor-manager';\nimport type { ContextOption } from '../types/monitoring';\n\n// Legacy support for Gemini response format\ninterface StructuredResponse {\n  markdown: string;\n  chatTitle?: string;\n  relevantFiles: RelevantFile[];\n  documentationLinks: DocumentationLink[];\n  suggestedQueries?: string[];\n  projectInfo?: {\n    name: string;\n    type: string;\n    mainTechnologies: string[];\n    description: string;\n  };\n}\n\ninterface RelevantFile {\n  path: string;\n  reason: string;\n  type: 'core' | 'config' | 'component' | 'util' | 'test' | 'other';\n  snippet?: string;\n}\n\ninterface DocumentationLink {\n  url: string;\n  title: string;\n  description: string;\n}\n\ninterface ChatMessage {\n  role: 'user' | 'assistant';\n  content: string;\n  structuredResponse?: StructuredResponse;\n}\n\ninterface ProjectInfo {\n  name: string;\n  type: string;\n  mainTechnologies: string[];\n  description: string;\n}\n\ninterface ChatSession {\n  id: string;\n  title: string;\n  messages: ChatMessage[];\n  projectInfo?: ProjectInfo;\n}\n\ntype ContentTab = 'chat' | 'files' | 'docs' | 'suggestions';\ntype ViewMode = 'chat' | 'models' | 'settings' | 'components';\ntype SelectionMode = 'none' | 'selecting' | 'selected';\n\nfunction getInitialResponse(): StructuredResponse {\n  return {\n    projectInfo: {\n      name: 'Example Project',\n      type: 'Library',\n      mainTechnologies: ['React', 'TypeScript', 'SQLite'],\n      description: 'A floating chat interface powered by Gemini'\n    },\n    markdown: 'Welcome to the example project!',\n    chatTitle: 'New Chat',\n    relevantFiles: [],\n    documentationLinks: [],\n    suggestedQueries: []\n  };\n}\n\ninterface Props {\n  hub: LLMHub;\n  monitorManager?: MonitorManager;\n  shadowRoot?: ShadowRoot;\n}\n\nexport function Toolbar({ hub, monitorManager, shadowRoot }: Props) {\n  console.log('[Toolbar] Initializing with hub:', hub, 'isInitialized:', hub?.isInitialized());\n  \n  const isInitializing = useSignal(true);\n  const isVisible = useSignal(false);\n  const isMinimized = useSignal(false);\n  const chatSessions = useSignal<ChatSession[]>([]);\n  const activeChatId = useSignal<string | null>(null);\n  const inputValue = useSignal('');\n  const editingTitle = useSignal('');\n  const activeTab = useSignal<ContentTab>('chat');\n  const projectInfo = useSignal<ProjectInfo | null>(null);\n  const hasInitialChat = useSignal(false);\n  const initializationStarted = useSignal(false);\n  const isLoadingMessages = useSignal(false);\n  const isStreamingResponse = useSignal(false);\n  const streamingContent = useSignal('');\n  const showModelSelector = useSignal(false);\n  const currentView = useSignal<ViewMode>('chat');\n  const apiKey = useSignal('');\n  const selectionMode = useSignal<SelectionMode>('none');\n  const selectedComponent = useSignal<any>(null);\n  const inspectorCleanup = useSignal<(() => void) | null>(null);\n\n  // Context selector state\n  const showContextSelector = useSignal(false);\n  const contextSelectorPosition = useSignal({ x: 0, y: 0 });\n  const contextSearchTerm = useSignal('');\n  const inputRef = useSignal<HTMLInputElement | null>(null);\n\n  // Check for dev mode and OpenRouter key\n  useEffect(() => {\n    const isDev = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n    if (isDev) {\n      // Check for OpenRouter API key in localStorage or env\n      const storedKey = localStorage.getItem('react-llm-openrouter-key');\n      const envKey = (window as any).__REACT_LLM_CONFIG__?.openrouterKey;\n      \n      if (storedKey || envKey) {\n        apiKey.value = storedKey || envKey;\n        // Initialize OpenRouter instead of demo mode\n        hub.initializeProvider('openrouter', apiKey.value).then(() => {\n          console.log('[ReactLLM] OpenRouter initialized with', hub.getAvailableModels().length, 'models');\n        });\n      }\n    }\n  }, [hub]);\n\n  // Initialize database and load chat sessions - run only once\n  useEffect(() => {\n    if (initializationStarted.value) return;\n    \n    initializationStarted.value = true;\n    \n    const initialize = async () => {\n      try {\n        // Initialize SQLite database\n        await initDB();\n        \n        // Load existing chat sessions\n        const sessions = await getChatSessions();\n        \n        if (sessions.length > 0) {\n          // Load messages for the most recent session\n          const messages = await getMessagesForChatSession(sessions[0].id);\n          const firstSession: ChatSession = {\n            id: sessions[0].id,\n            title: sessions[0].title,\n            messages: messages.map(m => ({\n              role: m.role === 'user' || m.role === 'assistant' ? m.role : 'assistant',\n              content: m.content,\n              structuredResponse: m.structuredResponse ? JSON.parse(m.structuredResponse) as StructuredResponse : undefined\n            }))\n          };\n          \n          chatSessions.value = [firstSession];\n          activeChatId.value = firstSession.id;\n          hasInitialChat.value = true;\n          \n          // Extract project info from the first message if it exists\n          const firstMessage = messages.find(m => m.role === 'assistant' && m.structuredResponse);\n          if (firstMessage?.structuredResponse) {\n            try {\n              const structuredResponse = JSON.parse(firstMessage.structuredResponse) as StructuredResponse;\n              if (structuredResponse.projectInfo) {\n                projectInfo.value = structuredResponse.projectInfo;\n              }\n            } catch (e) {\n              console.warn('Failed to parse structured response:', e);\n            }\n          }\n        } else {\n          // Check if hub is initialized before proceeding\n          if (!hub.isInitialized()) {\n            console.log('[Toolbar] Hub not initialized yet, skipping initial chat creation');\n            return;\n          }\n          // No existing chats, create initial welcome message\n          const initialResponse = getInitialResponse();\n          if (initialResponse.projectInfo) {\n            projectInfo.value = initialResponse.projectInfo;\n          }\n          \n          // Create initial chat in database\n          const newId = String(Date.now());\n          await createChatSession(newId, 'Welcome');\n          \n          // Create initial message\n          const welcomeMessage = `Welcome to ReactLM! I'm ready to help you with your React codebase.\n\nI'm currently using **${hub.getActiveModel()}** - you can change models anytime using the ðŸ¤– button.\n\nWhat would you like to explore?`;\n          \n          await createMessage(\n            String(Date.now()),\n            newId,\n            'assistant',\n            welcomeMessage,\n            JSON.stringify({\n              ...initialResponse,\n              markdown: welcomeMessage\n            })\n          );\n          \n          // Update state\n          const chat: ChatSession = {\n            id: newId,\n            title: 'Welcome',\n            messages: [{\n              role: 'assistant',\n              content: welcomeMessage,\n              structuredResponse: {\n                ...initialResponse,\n                markdown: welcomeMessage\n              }\n            }],\n            projectInfo: initialResponse.projectInfo\n          };\n          \n          chatSessions.value = [chat];\n          activeChatId.value = chat.id;\n          hasInitialChat.value = true;\n        }\n      } finally {\n        isInitializing.value = false;\n        setTimeout(() => isVisible.value = true, 50);\n      }\n    };\n\n    initialize();\n  }, []);\n\n  // Load messages when active chat changes\n  useEffect(() => {\n    if (!activeChatId.value || isLoadingMessages.value) return;\n    \n    const currentChat = chatSessions.value.find(c => c.id === activeChatId.value);\n    // Skip if we already have messages for this chat\n    if (currentChat?.messages && currentChat.messages.length > 0) return;\n    \n    const loadMessages = async () => {\n      isLoadingMessages.value = true;\n      try {\n        const messages = await getMessagesForChatSession(activeChatId.value!);\n        chatSessions.value = chatSessions.value.map(session => \n          session.id === activeChatId.value ? {\n            ...session,\n            messages: messages.map(m => ({\n              role: m.role,\n              content: m.content,\n              structuredResponse: m.structuredResponse ? JSON.parse(m.structuredResponse) : undefined,\n              relevantFiles: m.relevantFiles || [],\n              documentationLinks: m.documentationLinks || [],\n              suggestedQueries: m.suggestedQueries || []\n            }))\n          } : session\n        );\n      } catch (error) {\n        console.error('Failed to load messages:', error);\n      } finally {\n        isLoadingMessages.value = false;\n      }\n    };\n\n    loadMessages();\n  }, [activeChatId.value]);\n\n  const createNewChat = async () => {\n    console.log('[createNewChat] Starting...', {\n      isInitializing: isInitializing.value,\n      hubInitialized: hub?.isInitialized(),\n      activeModel: hub?.getActiveModel()\n    });\n    \n    if (isInitializing.value) return;\n\n    const newId = String(Date.now());\n    \n    try {\n      // Create chat session in database\n      await createChatSession(newId, 'New Chat');\n      \n      // Get initial analysis from LLM\n      let response: StructuredResponse;\n      try {\n        const llmContent = await hub.completeChat([\n          { role: 'user', content: 'Please provide a helpful introduction and overview of how I can assist with this React codebase.' }\n        ]);\n        \n        response = {\n          markdown: llmContent,\n          chatTitle: extractTitleFromResponse(llmContent),\n          relevantFiles: [],\n          documentationLinks: [],\n          suggestedQueries: extractSuggestionsFromResponse(llmContent)\n        };\n      } catch (error) {\n        console.error('Failed to get LLM response:', error);\n        response = {\n          markdown: 'Hello! I\\'m ready to help you with your React codebase.',\n          chatTitle: 'New Chat',\n          relevantFiles: [],\n          documentationLinks: [],\n          suggestedQueries: ['How does this work?', 'Can you explain this pattern?']\n        };\n      }\n      \n      // Create initial message in database\n      await createMessage(\n        String(Date.now()),\n        newId,\n        'assistant',\n        response.markdown,\n        JSON.stringify(response)\n      );\n      \n      const newChat: ChatSession = {\n        id: newId,\n        title: response.chatTitle || 'New Chat',\n        messages: [{\n          role: 'assistant',\n          content: response.markdown,\n          structuredResponse: response\n        }],\n        projectInfo: response.projectInfo\n      };\n      \n      chatSessions.value = [...chatSessions.value, newChat];\n      activeChatId.value = newId;\n    } catch (error) {\n      console.error('Failed to create new chat:', error);\n    }\n  };\n\n  const formatChatTitle = (title: string) => {\n    if (!title) return projectInfo.value?.name || 'untitled project';\n    if (!projectInfo.value?.name || !projectInfo.value?.description) return title;\n    \n    const cleanTitle = title.toLowerCase().startsWith(projectInfo.value.name.toLowerCase()) \n      ? title.slice(projectInfo.value.name.length).replace(/^[-:\\s]+/, '')\n      : title;\n      \n    return `${projectInfo.value.name} - ${projectInfo.value.description}`.toLowerCase();\n  };\n\n  const activeChat = () => activeChatId.value ? \n    chatSessions.value.find(c => c.id === activeChatId.value) : null;\n\n  const deleteChat = async (chatId: string) => {\n    try {\n      await deleteChatSession(chatId);\n      chatSessions.value = chatSessions.value.filter(c => c.id !== chatId);\n      if (activeChatId.value === chatId) {\n        activeChatId.value = chatSessions.value[0]?.id || null;\n      }\n    } catch (error) {\n      console.error('Failed to delete chat:', error);\n    }\n  };\n\n  const startEditingTitle = (chatId: string) => {\n    const chat = chatSessions.value.find(c => c.id === chatId);\n    if (chat) {\n      editingTitle.value = chat.title;\n    }\n  };\n\n  const saveEditingTitle = () => {\n    if (editingTitle.value.trim()) {\n      chatSessions.value = chatSessions.value.map(chat => \n        chat.id === activeChatId.value ? \n          { ...chat, title: editingTitle.value.trim() } : \n          chat\n      );\n    }\n    editingTitle.value = '';\n  };\n\n  // Handle @ mention detection\n  const handleInputChange = (e: Event) => {\n    const input = e.target as HTMLInputElement;\n    const value = input.value;\n    inputValue.value = value;\n    \n    // Check for @ mentions\n    const cursorPosition = input.selectionStart || 0;\n    const textBeforeCursor = value.substring(0, cursorPosition);\n    const atMatch = textBeforeCursor.match(/@(\\w*)$/);\n    \n    if (atMatch) {\n      const searchTerm = atMatch[1];\n      contextSearchTerm.value = searchTerm;\n      \n      // Get input position for context selector\n      const rect = input.getBoundingClientRect();\n      contextSelectorPosition.value = {\n        x: rect.left,\n        y: rect.top\n      };\n      \n      showContextSelector.value = true;\n    } else {\n      showContextSelector.value = false;\n    }\n  };\n\n  // Handle context selection from @ mentions\n  const handleContextSelect = (context: ContextOption | null) => {\n    if (!context) {\n      showContextSelector.value = false;\n      return;\n    }\n\n    const input = inputRef.value;\n    if (!input) return;\n\n    const cursorPosition = input.selectionStart || 0;\n    const value = inputValue.value;\n    const textBeforeCursor = value.substring(0, cursorPosition);\n    const textAfterCursor = value.substring(cursorPosition);\n    \n    // Replace the @ mention with the selected context\n    const atMatch = textBeforeCursor.match(/@\\w*$/);\n    if (atMatch) {\n      const beforeAtSign = textBeforeCursor.substring(0, atMatch.index);\n      \n      // Get context data from monitor manager\n      let contextData = '';\n      if (monitorManager) {\n        contextData = monitorManager.getContext(context.type, context.filter);\n      }\n      \n      // Insert context label and add context data as a comment for the AI\n      const newValue = `${beforeAtSign}${context.label}${textAfterCursor}\\n\\n<!-- Context: ${contextData} -->`;\n      inputValue.value = newValue;\n      \n      // Position cursor after the context label\n      setTimeout(() => {\n        const newPosition = beforeAtSign.length + context.label.length;\n        input.setSelectionRange(newPosition, newPosition);\n      }, 0);\n    }\n    \n    showContextSelector.value = false;\n  };\n\n  // Handle input keydown for context selector navigation\n  const handleInputKeyDown = (e: KeyboardEvent) => {\n    if (showContextSelector.value) {\n      // Let ContextSelector handle arrow keys and enter\n      if (['ArrowDown', 'ArrowUp', 'Enter', 'Escape'].includes(e.key)) {\n        return; // Let ContextSelector handle these\n      }\n    }\n  };\n\n  const handleSubmit = async (e: Event) => {\n    e.preventDefault();\n    if (!inputValue.value.trim() || isInitializing.value) return;\n\n    const userMessage = inputValue.value;\n    inputValue.value = '';\n    \n    if (!activeChatId.value) {\n      await createNewChat();\n      return;\n    }\n    \n    const chat = activeChat()!;\n    const isNewChat = chat.messages.length === 0;\n    const userMessageId = String(Date.now());\n    \n    try {\n      // Save user message to database\n      await createMessage(\n        userMessageId,\n        chat.id,\n        'user',\n        userMessage\n      );\n      \n      // Update UI immediately\n      const updatedMessages = [...chat.messages, { role: 'user', content: userMessage }];\n      chatSessions.value = chatSessions.value.map(c => \n        c.id === activeChatId.value ? { ...c, messages: updatedMessages } : c\n      );\n      \n      isInitializing.value = true;\n\n      // Get response from LLM Hub with streaming\n      isStreamingResponse.value = true;\n      streamingContent.value = '';\n      \n      const llmMessages: Message[] = [\n        ...chat.messages.map(m => ({ role: m.role, content: m.content })),\n        { role: 'user', content: userMessage }\n      ];\n      \n      let fullResponse = '';\n      \n      try {\n        for await (const chunk of hub.chat(llmMessages)) {\n          fullResponse += chunk;\n          streamingContent.value = fullResponse;\n          // Don't update messages array during streaming - we show streamingContent separately\n        }\n        \n        // Create structured response from the full response\n        const response: StructuredResponse = {\n          markdown: fullResponse,\n          chatTitle: isNewChat ? extractTitleFromResponse(fullResponse) : undefined,\n          relevantFiles: [],\n          documentationLinks: [],\n          suggestedQueries: extractSuggestionsFromResponse(fullResponse)\n        };\n      \n        // Save assistant message to database\n        const assistantMessageId = String(Date.now() + 1);\n        await createMessage(\n          assistantMessageId,\n          chat.id,\n          'assistant',\n          fullResponse,\n          JSON.stringify(response)\n        );\n        \n        // Update UI with final response\n        const newMessages = [...updatedMessages, { \n          role: 'assistant' as const, \n          content: fullResponse,\n          structuredResponse: response\n        }];\n        \n        chatSessions.value = chatSessions.value.map(c => \n          c.id === activeChatId.value ? {\n            ...c,\n            title: isNewChat && response.chatTitle ? response.chatTitle : c.title,\n            messages: newMessages,\n            projectInfo: isNewChat ? response.projectInfo : c.projectInfo\n          } : c\n        );\n      } catch (streamError) {\n        console.error('Streaming error:', streamError);\n        \n        // Fallback to simple response if streaming fails\n        const errorResponse = 'I apologize, but I encountered an issue processing your request. Please try again.';\n        const assistantMessageId = String(Date.now() + 1);\n        await createMessage(\n          assistantMessageId,\n          chat.id,\n          'assistant',\n          errorResponse\n        );\n        \n        chatSessions.value = chatSessions.value.map(c => \n          c.id === activeChatId.value ? {\n            ...c,\n            messages: [...updatedMessages, { \n              role: 'assistant' as const, \n              content: errorResponse\n            }]\n          } : c\n        );\n      }\n    } catch (error) {\n      console.error('Failed to get response:', error);\n      \n      // Save error message to database\n      const errorMessageId = String(Date.now() + 1);\n      await createMessage(\n        errorMessageId,\n        chat.id,\n        'assistant',\n        'Sorry, I encountered an error. Please try again.'\n      );\n      \n      chatSessions.value = chatSessions.value.map(c => \n        c.id === activeChatId.value ? {\n          ...c,\n          messages: [...chat.messages, { \n            role: 'assistant', \n            content: 'Sorry, I encountered an error. Please try again.'\n          }]\n        } : c\n      );\n    } finally {\n      isInitializing.value = false;\n      isStreamingResponse.value = false;\n      streamingContent.value = '';\n    }\n  };\n\n  const extractTitleFromResponse = (response: string | undefined): string => {\n    // Simple title extraction from response content\n    if (!response) return 'New Chat';\n    const lines = response.split('\\n');\n    const firstLine = lines[0]?.replace(/^#+\\s*/, '').trim();\n    return firstLine && firstLine.length < 100 ? firstLine : 'New Chat';\n  };\n  \n  const extractSuggestionsFromResponse = (response: string | undefined): string[] => {\n    // Simple suggestion extraction - look for questions or bullet points\n    if (!response) return [];\n    const suggestions: string[] = [];\n    const lines = response.split('\\n');\n    \n    for (const line of lines) {\n      const trimmed = line.trim();\n      if (trimmed.startsWith('- ') && trimmed.endsWith('?')) {\n        suggestions.push(trimmed.slice(2));\n      } else if (trimmed.match(/^\\d+\\./)) {\n        const question = trimmed.replace(/^\\d+\\.\\s*/, '');\n        if (question.endsWith('?')) {\n          suggestions.push(question);\n        }\n      }\n    }\n    \n    return suggestions.slice(0, 3); // Limit to 3 suggestions\n  };\n  \n  const handleModelChange = (provider: string, model: string) => {\n    hub.setActiveModel(provider, model);\n    showModelSelector.value = false;\n  };\n  \n  const selectedComponents = useSignal<any[]>([]);\n  \n  const handleComponentSelect = (componentInfo: ComponentInfo | null) => {\n    // Handle escape/cancel\n    if (!componentInfo) {\n      selectionMode.value = 'none';\n      console.log('[Toolbar] Component selection cancelled');\n      return;\n    }\n    \n    selectedComponent.value = componentInfo;\n    selectionMode.value = 'selected';\n    \n    // Add to selected components list\n    if (componentInfo) {\n      const existingIndex = selectedComponents.value.findIndex(\n        c => c.id === componentInfo.id\n      );\n      \n      if (existingIndex === -1) {\n        selectedComponents.value = [...selectedComponents.value, {\n          ...componentInfo,\n          timestamp: new Date().toISOString()\n        }];\n      }\n      \n      // Sync with monitor manager\n      if (monitorManager) {\n        monitorManager.setSelectedComponents(selectedComponents.value);\n      }\n      \n      // Switch to components view to show selection\n      currentView.value = 'components';\n    }\n  };\n\n  const renderComponentsView = () => (\n    <div className=\"view-container\">\n      <div className=\"view-header\">\n        <h2 className=\"view-title\">Selected Components</h2>\n        <button className=\"view-close\" onClick={() => currentView.value = 'chat'}>Ã—</button>\n      </div>\n      <div className=\"view-content\">\n        {selectedComponents.value.length === 0 ? (\n          <div className=\"empty-components\">\n            <p>No components selected yet</p>\n            <button \n              className=\"select-component-button\"\n              onClick={() => {\n                currentView.value = 'chat';\n                selectionMode.value = 'selecting';\n              }}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M2 2h4v2H4v2H2V2zm10 0h4v4h-2V4h-2V2zM2 10h2v2h2v2H2v-4zm12 2h2v-2h-2v2zm0 0v2h-2v2h4v-4h-2z\"/>\n                <circle cx=\"8\" cy=\"8\" r=\"2\" opacity=\"0.5\"/>\n              </svg>\n              Select a Component\n            </button>\n          </div>\n        ) : (\n          <div className=\"components-list\">\n            {selectedComponents.value.map((comp) => (\n              <div key={comp.id} className=\"component-item\">\n                <div className=\"component-header\">\n                  <h3 className=\"component-name\">{comp.name}</h3>\n                  <button \n                    className=\"remove-button\"\n                    onClick={() => {\n                      selectedComponents.value = selectedComponents.value.filter(c => c.id !== comp.id);\n                      // Sync with monitor manager\n                      if (monitorManager) {\n                        monitorManager.setSelectedComponents(selectedComponents.value);\n                      }\n                    }}\n                  >\n                    Ã—\n                  </button>\n                </div>\n                <div className=\"component-details\">\n                  {comp.domElement && (\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Element:</span>\n                      <code className=\"detail-value\">\n                        &lt;{comp.domElement.tagName.toLowerCase()}{comp.domElement.id ? ` id=\"${comp.domElement.id}\"` : ''}{comp.domElement.className ? ` class=\"${comp.domElement.className}\"` : ''}&gt;\n                      </code>\n                    </div>\n                  )}\n                  {Object.keys(comp.props || {}).length > 0 && (\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Props:</span>\n                      <pre className=\"detail-value props-value\">{JSON.stringify(comp.props, null, 2)}</pre>\n                    </div>\n                  )}\n                  {comp.state && (\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">State:</span>\n                      <pre className=\"detail-value props-value\">{JSON.stringify(comp.state, null, 2)}</pre>\n                    </div>\n                  )}\n                  {comp.hooks && comp.hooks.length > 0 && (\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Hooks:</span>\n                      <div className=\"detail-value\">\n                        {comp.hooks.map((hook: any, i: number) => (\n                          <div key={i} className=\"hook-item\">\n                            Hook {i}: {JSON.stringify(hook.memoizedState)}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"component-actions\">\n                    <button \n                      className=\"action-button\"\n                      onClick={() => {\n                        currentView.value = 'chat';\n                        inputValue.value = `Tell me about the ${comp.name} component`;\n                      }}\n                    >\n                      Ask about this component\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderSettingsView = () => (\n    <div className=\"view-container\">\n      <div className=\"view-header\">\n        <h2 className=\"view-title\">Settings</h2>\n        <button className=\"view-close\" onClick={() => currentView.value = 'chat'}>Ã—</button>\n      </div>\n      <div className=\"view-content\">\n        <div className=\"settings-section\">\n          <label className=\"settings-label\">OpenRouter API Key</label>\n          <input\n            type=\"password\"\n            className=\"settings-input\"\n            value={apiKey.value}\n            onInput={(e) => apiKey.value = (e.target as HTMLInputElement).value}\n            placeholder=\"sk-or-...\"\n          />\n          <div className=\"settings-hint\">\n            Get your API key from{' '}\n            <a href=\"https://openrouter.ai/keys\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: 'rgba(100, 200, 255, 0.9)' }}>\n              openrouter.ai/keys\n            </a>\n          </div>\n          <button\n            className=\"settings-button\"\n            onClick={async () => {\n              if (apiKey.value) {\n                localStorage.setItem('react-llm-openrouter-key', apiKey.value);\n                await hub.initializeProvider('openrouter', apiKey.value);\n                currentView.value = 'models';\n              }\n            }}\n            disabled={!apiKey.value}\n          >\n            Save and Connect\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderModelsView = () => {\n    const models = hub.getAvailableModels();\n    const hasApiKey = hub.isInitialized() && hub.getActiveProvider() !== 'demo';\n    \n    return (\n      <div className=\"view-container\">\n        <div className=\"view-header\">\n          <h2 className=\"view-title\">Select Model</h2>\n          <button className=\"view-close\" onClick={() => currentView.value = 'chat'}>Ã—</button>\n        </div>\n        <div className=\"view-content\">\n          {!hasApiKey && (\n            <div className=\"api-key-prompt\">\n              <div className=\"api-key-prompt-text\">\n                Add your OpenRouter API key to access all models\n              </div>\n              <button \n                className=\"api-key-prompt-button\"\n                onClick={() => currentView.value = 'settings'}\n              >\n                Add API Key\n              </button>\n            </div>\n          )}\n          \n          <div className=\"models-grid\">\n            {models.map((model: Model) => (\n              <div\n                key={model.id}\n                className={`model-card ${hub.getActiveModel() === model.id ? 'selected' : ''}`}\n                onClick={() => {\n                  hub.setActiveModel('openrouter', model.id);\n                  handleModelChange('openrouter', model.id);\n                  currentView.value = 'chat';\n                }}\n              >\n                <div className=\"model-card-header\">\n                  <div>\n                    <div className=\"model-card-name\">{model.name}</div>\n                    <div className=\"model-card-provider\">{model.provider}</div>\n                  </div>\n                  {model.id.includes('claude-3-5-sonnet') || model.id.includes('gpt-4o') ? (\n                    <span className=\"model-card-badge recommended\">Recommended</span>\n                  ) : null}\n                </div>\n                \n                <div className=\"model-card-specs\">\n                  <div className=\"model-spec\">\n                    <div className=\"model-spec-label\">Context</div>\n                    <div className=\"model-spec-value\">\n                      {model.contextLength >= 1000000 ? `${(model.contextLength / 1000000).toFixed(1)}M` :\n                       model.contextLength >= 1000 ? `${(model.contextLength / 1000).toFixed(0)}K` :\n                       model.contextLength}\n                    </div>\n                  </div>\n                  <div className=\"model-spec\">\n                    <div className=\"model-spec-label\">Input</div>\n                    <div className=\"model-spec-value\">${(model.pricing.prompt * 1000).toFixed(3)}/1K</div>\n                  </div>\n                  <div className=\"model-spec\">\n                    <div className=\"model-spec-label\">Output</div>\n                    <div className=\"model-spec-value\">${(model.pricing.completion * 1000).toFixed(3)}/1K</div>\n                  </div>\n                </div>\n                \n                {model.description && (\n                  <div className=\"model-card-description\">{model.description}</div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessage = (msg: ChatMessage) => {\n    if (msg.role === 'user') {\n      return <div className=\"message user-message\">{msg.content}</div>;\n    }\n\n    const html = marked(msg.content);\n    if (typeof html !== 'string') return null;\n\n    return (\n      <div className=\"message assistant-message\">\n        <div dangerouslySetInnerHTML={{ __html: html }} />\n        \n        {msg.structuredResponse?.relevantFiles && msg.structuredResponse.relevantFiles.length > 0 && (\n          <div className=\"relevant-files\">\n            {msg.structuredResponse.relevantFiles.map((file, i) => (\n              <div key={i} className=\"relevant-file\" title={file.reason}>\n                <span className=\"file-path\">{file.path}</span>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {msg.structuredResponse?.documentationLinks && msg.structuredResponse.documentationLinks.length > 0 && (\n          <div className=\"docs-section\">\n            {msg.structuredResponse.documentationLinks.map((link, i) => (\n              <a \n                key={i} \n                href={link.url} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\" \n                className=\"docs-link\"\n              >\n                <div className=\"docs-link-title\">{link.title}</div>\n                <div className=\"docs-link-description\">{link.description}</div>\n              </a>\n            ))}\n          </div>\n        )}\n\n        {msg.structuredResponse?.suggestedQueries && msg.structuredResponse.suggestedQueries.length > 0 && (\n          <div className=\"suggested-queries\">\n            <div className=\"suggested-queries-title\">suggested questions</div>\n            <div className=\"suggested-queries-list\">\n              {msg.structuredResponse.suggestedQueries.map((query, i) => (\n                <div \n                  key={i} \n                  className=\"suggested-query\"\n                  onClick={() => {\n                    inputValue.value = query;\n                    // Use ref instead of querySelector for Shadow DOM compatibility\n                    if (inputRef.value) {\n                      inputRef.value.focus();\n                    }\n                  }}\n                >\n                  {query.toLowerCase()}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Log when toolbar renders for debugging\n  useEffect(() => {\n    console.log('[Toolbar] Mounted, visibility:', isVisible.value);\n    const toolbar = document.querySelector('.toolbar');\n    if (toolbar) {\n      const rect = (toolbar as HTMLElement).getBoundingClientRect();\n      console.log('[Toolbar] Position:', rect);\n    }\n  }, []);\n\n  return (\n    <Fragment>\n      <style>{styles}</style>\n      <div \n        className={`toolbar ${isMinimized.value ? 'minimized' : ''} ${isVisible.value ? '' : 'opacity-0'}`}\n      >\n        <div className=\"header\">\n          <div className=\"controls\">\n            <button \n              className={`control-button ${currentView.value === 'components' ? 'active' : ''}`} \n              onClick={() => currentView.value = currentView.value === 'components' ? 'chat' : 'components'}\n              title=\"Selected Components\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"2\" y=\"2\" width=\"5\" height=\"5\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n                <rect x=\"9\" y=\"2\" width=\"5\" height=\"5\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n                <rect x=\"2\" y=\"9\" width=\"5\" height=\"5\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n                <rect x=\"9\" y=\"9\" width=\"5\" height=\"5\" rx=\"1\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n              </svg>\n            </button>\n            <button \n              className={`control-button model-button ${currentView.value === 'models' ? 'active' : ''}`} \n              onClick={() => currentView.value = currentView.value === 'models' ? 'chat' : 'models'}\n              title=\"Select Model\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"2\" y=\"2\" width=\"12\" height=\"12\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n                <rect x=\"5\" y=\"5\" width=\"6\" height=\"1.5\" rx=\"0.75\" fill=\"currentColor\"/>\n                <rect x=\"5\" y=\"8\" width=\"6\" height=\"1.5\" rx=\"0.75\" fill=\"currentColor\"/>\n                <rect x=\"5\" y=\"11\" width=\"4\" height=\"1.5\" rx=\"0.75\" fill=\"currentColor\"/>\n              </svg>\n            </button>\n            <button \n              className={`control-button ${currentView.value === 'settings' ? 'active' : ''}`} \n              onClick={() => currentView.value = currentView.value === 'settings' ? 'chat' : 'settings'}\n              title=\"Settings\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M8 10a2 2 0 100-4 2 2 0 000 4z\"/>\n                <path d=\"M13.3 9.2a1.2 1.2 0 010-2.4l.7-.1a6 6 0 00-.4-1.6l-.6.4a1.2 1.2 0 01-1.7-.4 1.2 1.2 0 01.4-1.7l.6-.3A6 6 0 0011 2l-.1.7a1.2 1.2 0 01-2.4 0L8.4 2a6 6 0 00-1.6.4l.4.6a1.2 1.2 0 01-.4 1.7 1.2 1.2 0 01-1.7-.4l-.3-.6A6 6 0 002 5l.7.1a1.2 1.2 0 010 2.4L2 7.6a6 6 0 00.4 1.6l.6-.4a1.2 1.2 0 011.7.4 1.2 1.2 0 01-.4 1.7l-.6.3A6 6 0 005 14l.1-.7a1.2 1.2 0 012.4 0l.1.7a6 6 0 001.6-.4l-.4-.6a1.2 1.2 0 01.4-1.7 1.2 1.2 0 011.7.4l.3.6A6 6 0 0014 11l-.7-.1zM8 11a3 3 0 110-6 3 3 0 010 6z\"/>\n              </svg>\n            </button>\n            <button \n              className=\"control-button\" \n              onClick={createNewChat}\n              disabled={isInitializing.value}\n            >\n              +\n            </button>\n            <button \n              className=\"control-button\" \n              onClick={() => isMinimized.value = !isMinimized.value}\n            >\n              {isMinimized.value ? '+' : '-'}\n            </button>\n          </div>\n        </div>\n\n        {!isMinimized.value && currentView.value === 'models' && renderModelsView()}\n        {!isMinimized.value && currentView.value === 'settings' && renderSettingsView()}\n        {!isMinimized.value && currentView.value === 'components' && renderComponentsView()}\n        \n        {!isMinimized.value && currentView.value === 'chat' && (\n          activeChat() ? (\n            <Fragment>\n              <div className=\"messages-container\">\n                {activeChat()!.messages.map((msg, i) => (\n                  <div key={i} className=\"message-wrapper\">\n                    {renderMessage(msg)}\n                  </div>\n                ))}\n                {isStreamingResponse.value && streamingContent.value && (\n                  <div className=\"message-wrapper\">\n                    <div className=\"message assistant-message\">\n                      <div dangerouslySetInnerHTML={{ __html: marked(streamingContent.value) }} />\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"input-area\">\n                <form onSubmit={handleSubmit} className=\"input-form\">\n                  <input\n                    ref={(el) => inputRef.value = el}\n                    type=\"text\"\n                    className=\"input\"\n                    value={inputValue.value}\n                    onInput={handleInputChange}\n                    onKeyDown={handleInputKeyDown}\n                    placeholder=\"ask about your react codebase... (type @ for context)\"\n                    disabled={isInitializing.value || isStreamingResponse.value}\n                  />\n                </form>\n                <div className=\"input-controls\">\n                  <button \n                    type=\"button\"\n                    className={`control-icon-button ${selectionMode.value === 'selecting' ? 'active' : ''}`}\n                    onClick={() => selectionMode.value = selectionMode.value === 'selecting' ? 'none' : 'selecting'}\n                    title=\"Select Component\"\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path d=\"M2 2h4v2H4v2H2V2zm10 0h4v4h-2V4h-2V2zM2 10h2v2h2v2H2v-4zm12 2h2v-2h-2v2zm0 0v2h-2v2h4v-4h-2z\"/>\n                      <circle cx=\"8\" cy=\"8\" r=\"2\" opacity=\"0.5\"/>\n                    </svg>\n                  </button>\n                  <button \n                    type=\"button\"\n                    className={`send-button ${isStreamingResponse.value ? 'streaming' : ''}`}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      handleSubmit(e as any);\n                    }}\n                    disabled={isInitializing.value || isStreamingResponse.value || !inputValue.value.trim()}\n                  >\n                    {isStreamingResponse.value ? (\n                      <span className=\"loading-dots\">\n                        <span className=\"loading-dot\"></span>\n                        <span className=\"loading-dot\"></span>\n                        <span className=\"loading-dot\"></span>\n                      </span>\n                    ) : 'â†’'}\n                  </button>\n                </div>\n              </div>\n              \n            </Fragment>\n          ) : (\n            <div className=\"empty-state\">\n              <div className=\"empty-state-title\">welcome to reactlm</div>\n              <div className=\"empty-state-description\">\n                start a new chat to get ai-powered help with your react codebase\n                {isInitializing.value && (\n                  <div className=\"loading-dots\">\n                    <div className=\"loading-dot\"></div>\n                    <div className=\"loading-dot\"></div>\n                    <div className=\"loading-dot\"></div>\n                  </div>\n                )}\n              </div>\n              <button \n                className=\"new-chat-button\" \n                onClick={createNewChat}\n                disabled={isInitializing.value}\n              >\n                <span>+</span> new chat\n              </button>\n            </div>\n          )\n        )}\n      </div>\n      \n      {/* Component selection overlay - renders when in selection mode */}\n      {selectionMode.value === 'selecting' && (\n        <ComponentInspector \n          isActive={true} \n          onSelect={handleComponentSelect}\n          theme=\"dark\"\n        />\n      )}\n      \n      {/* Context selector - renders when @ mention is typed */}\n      {showContextSelector.value && (\n        <ContextSelector\n          onSelect={handleContextSelect}\n          position={contextSelectorPosition.value}\n          searchTerm={contextSearchTerm.value}\n        />\n      )}\n    </Fragment>\n  );\n}\n","// Simple in-memory storage for demo purposes\n// This replaces SQLite temporarily to avoid WASM loading issues\n\nimport type { StructuredResponse } from '../gemini/gemini';\n\ninterface ChatSession {\n  id: string;\n  title: string;\n  createdAt: number;\n  projectName?: string;\n  projectType?: string;\n  projectDescription?: string;\n  isActive: boolean;\n  technologies: string[];\n}\n\ninterface ChatMessage {\n  id: string;\n  chatSessionId: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: number;\n  structuredResponse?: string;\n  relevantFiles: any[];\n  documentationLinks: any[];\n  suggestedQueries: any[];\n}\n\n// In-memory storage\nconst storage = {\n  sessions: new Map<string, ChatSession>(),\n  messages: new Map<string, ChatMessage[]>(),\n};\n\nlet isInitialized = false;\n\nexport async function initDB() {\n  if (isInitialized) return true;\n  \n  console.log('[ReactLLM] Using in-memory storage');\n  isInitialized = true;\n  return true;\n}\n\nexport async function createChatSession(\n  id: string,\n  title: string,\n  projectInfo?: StructuredResponse['projectInfo']\n) {\n  const session: ChatSession = {\n    id,\n    title,\n    createdAt: Date.now(),\n    projectName: projectInfo?.name,\n    projectType: projectInfo?.type,\n    projectDescription: projectInfo?.description,\n    isActive: true,\n    technologies: projectInfo?.mainTechnologies || [],\n  };\n  \n  storage.sessions.set(id, session);\n  storage.messages.set(id, []);\n}\n\nexport async function createMessage(\n  id: string,\n  chatSessionId: string,\n  role: 'user' | 'assistant',\n  content: string,\n  structuredResponse?: string\n) {\n  const message: ChatMessage = {\n    id,\n    chatSessionId,\n    role,\n    content,\n    timestamp: Date.now(),\n    structuredResponse,\n    relevantFiles: [],\n    documentationLinks: [],\n    suggestedQueries: [],\n  };\n  \n  const messages = storage.messages.get(chatSessionId) || [];\n  messages.push(message);\n  storage.messages.set(chatSessionId, messages);\n  \n  // Parse structured response if present\n  if (structuredResponse && role === 'assistant') {\n    try {\n      const parsed = JSON.parse(structuredResponse) as StructuredResponse;\n      \n      message.relevantFiles = parsed.relevantFiles || [];\n      message.documentationLinks = parsed.documentationLinks || [];\n      message.suggestedQueries = (parsed.suggestedQueries || []).map(q => ({ query: q }));\n    } catch (e) {\n      console.error('Failed to parse structured response:', e);\n    }\n  }\n}\n\nexport async function getChatSessions(): Promise<ChatSession[]> {\n  return Array.from(storage.sessions.values())\n    .filter(s => s.isActive)\n    .sort((a, b) => b.createdAt - a.createdAt);\n}\n\nexport async function getMessagesForChatSession(chatSessionId: string): Promise<ChatMessage[]> {\n  return storage.messages.get(chatSessionId) || [];\n}\n\nexport async function deleteChatSession(id: string) {\n  const session = storage.sessions.get(id);\n  if (session) {\n    session.isActive = false;\n  }\n}","/**\n * Design Tokens - Unified design system for React LLM\n * Extracted from marketing site and adapted for Shadow DOM usage\n */\n\n// Color system inspired by internet.dev\nexport const colors = {\n  // Base colors\n  black: 'rgba(0, 0, 0, 1)',\n  white: 'rgba(255, 255, 255, 1)',\n  \n  // Gray scale\n  gray: {\n    10: 'rgba(244, 244, 244, 1)',\n    20: 'rgba(224, 224, 224, 1)',\n    30: 'rgba(198, 198, 198, 1)',\n    40: 'rgba(168, 168, 168, 1)',\n    50: 'rgba(141, 141, 141, 1)',\n    60: 'rgba(111, 111, 111, 1)',\n    70: 'rgba(82, 82, 82, 1)',\n    80: 'rgba(57, 57, 57, 1)',\n    90: 'rgba(38, 38, 38, 1)',\n    100: 'rgba(22, 22, 22, 1)',\n  },\n  \n  // Accent colors\n  blue: {\n    50: 'rgba(69, 137, 255, 1)',\n    60: 'rgba(15, 98, 254, 1)',\n    70: 'rgba(0, 67, 206, 1)',\n  },\n  \n  // LLM chat interface colors\n  chat: {\n    // User message\n    userBg: 'rgba(100, 100, 255, 0.1)',\n    userText: 'rgba(255, 255, 255, 0.9)',\n    \n    // Assistant message\n    assistantBg: 'rgba(255, 255, 255, 0.05)',\n    assistantText: 'rgba(255, 255, 255, 0.8)',\n    \n    // System message\n    systemBg: 'rgba(255, 200, 0, 0.1)',\n    systemText: 'rgba(255, 200, 0, 0.9)',\n  },\n  \n  // Status colors\n  success: 'rgba(100, 255, 100, 0.8)',\n  warning: 'rgba(255, 200, 0, 0.9)',\n  error: 'rgba(255, 100, 100, 0.8)',\n  info: 'rgba(100, 200, 255, 0.8)',\n} as const;\n\n// Typography system - based on TX02Mono and modern LLM interfaces\nexport const typography = {\n  fontFamily: {\n    mono: \"'TX02Mono-Regular', 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', 'Source Code Pro', monospace\",\n    title: \"'TX02Mono-Regular', 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', 'Source Code Pro', monospace\",\n    ui: \"'TX02Mono-Regular', 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', 'Source Code Pro', monospace\",\n  },\n  \n  fontSize: {\n    xs: '0.75rem',    // 12px\n    sm: '0.875rem',   // 14px\n    base: '1rem',     // 16px\n    lg: '1.125rem',   // 18px\n    xl: '1.25rem',    // 20px\n    '2xl': '1.5rem',  // 24px\n    '3xl': '2rem',    // 32px\n    '4xl': '2.5rem',  // 40px\n  },\n  \n  fontWeight: {\n    normal: '400',\n    medium: '500',\n    semibold: '600',\n    bold: '700',\n  },\n  \n  lineHeight: {\n    tight: '1.1',\n    base: '1.5',\n    relaxed: '1.6',\n    loose: '1.75',\n  },\n  \n  letterSpacing: {\n    tight: '-0.03em',\n    normal: '0',\n    wide: '0.05em',\n  },\n} as const;\n\n// Spacing system - based on 1rem = 16px\nexport const spacing = {\n  xs: '0.25rem',    // 4px\n  sm: '0.5rem',     // 8px\n  md: '1rem',       // 16px\n  lg: '1.5rem',     // 24px\n  xl: '2rem',       // 32px\n  '2xl': '3rem',    // 48px\n  '3xl': '4rem',    // 64px\n  '4xl': '5rem',    // 80px\n  '5xl': '6rem',    // 96px\n} as const;\n\n// Border radius system\nexport const borderRadius = {\n  none: '0',\n  sm: '0.125rem',   // 2px\n  base: '0.25rem',  // 4px\n  md: '0.375rem',   // 6px\n  lg: '0.5rem',     // 8px\n  xl: '0.75rem',    // 12px\n  '2xl': '1rem',    // 16px\n  full: '9999px',\n} as const;\n\n// Shadow system\nexport const shadows = {\n  sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\n  base: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',\n  md: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n  lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\n  xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\n  '2xl': '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n  inner: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',\n  none: 'none',\n} as const;\n\n// Z-index scale\nexport const zIndex = {\n  base: 1,\n  dropdown: 10,\n  sticky: 20,\n  fixed: 30,\n  modal: 40,\n  popover: 50,\n  tooltip: 60,\n  notification: 70,\n} as const;\n\n// Transition system\nexport const transitions = {\n  duration: {\n    fast: '0.15s',\n    base: '0.2s',\n    slow: '0.3s',\n    slower: '0.5s',\n  },\n  \n  timing: {\n    linear: 'linear',\n    ease: 'ease',\n    easeIn: 'ease-in',\n    easeOut: 'ease-out',\n    easeInOut: 'ease-in-out',\n  },\n  \n  // Common transition combinations\n  all: 'all 0.2s ease',\n  colors: 'color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease',\n  transform: 'transform 0.2s ease',\n  opacity: 'opacity 0.2s ease',\n} as const;\n\n// Breakpoints for responsive design\nexport const breakpoints = {\n  sm: '640px',\n  md: '768px',\n  lg: '1024px',\n  xl: '1280px',\n  '2xl': '1536px',\n} as const;\n\n// Layout constraints - world-class developer tools sizing\nexport const layout = {\n  toolbar: {\n    width: '420px',\n    height: '600px',\n    minWidth: '360px',\n    maxWidth: '640px',\n    minHeight: '400px',\n    maxHeight: '85vh',\n  },\n  \n  dropdown: {\n    maxWidth: '400px',\n    maxHeight: '500px',\n  },\n  \n  input: {\n    minHeight: '44px',\n    maxHeight: '140px',\n  },\n  \n  // Developer tools specific\n  devtools: {\n    borderRadius: '12px',\n    backdropBlur: '20px',\n    shadowLevel: 'xl',\n  },\n} as const;\n\n// Animation curves - for smooth, professional feel\nexport const easings = {\n  spring: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  smooth: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  snappy: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  bounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n} as const;\n\n// Professional developer tool color palette\nexport const devtools = {\n  backgrounds: {\n    glass: 'rgba(0, 0, 0, 0.8)',\n    panel: 'rgba(0, 0, 0, 0.95)',\n    hover: 'rgba(255, 255, 255, 0.05)',\n    active: 'rgba(255, 255, 255, 0.1)',\n  },\n  \n  borders: {\n    subtle: 'rgba(255, 255, 255, 0.06)',\n    normal: 'rgba(255, 255, 255, 0.1)',\n    strong: 'rgba(255, 255, 255, 0.15)',\n  },\n  \n  text: {\n    primary: 'rgba(255, 255, 255, 0.95)',\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    muted: 'rgba(255, 255, 255, 0.5)',\n    placeholder: 'rgba(255, 255, 255, 0.3)',\n  },\n  \n  accent: {\n    blue: '#4589FF',\n    green: '#42C442',\n    orange: '#FF8C00',\n    red: '#FF5555',\n    purple: '#BD93F9',\n  },\n} as const;","/**\n * Theme System - Light and Dark theme definitions\n * Based on design tokens and adapted for modern LLM chat interfaces\n */\n\nimport { colors, typography, spacing, borderRadius, shadows, transitions, zIndex, devtools as devtoolsTokens, easings } from './tokens';\n\nexport interface Theme {\n  // Core colors\n  background: string;\n  foreground: string;\n  border: string;\n  borderSubdued: string;\n  \n  // Interactive states\n  hover: string;\n  active: string;\n  focus: string;\n  disabled: string;\n  \n  // Semantic colors\n  primary: string;\n  primaryHover: string;\n  secondary: string;\n  secondaryHover: string;\n  muted: string;\n  accent: string;\n  \n  // Chat interface specific\n  chat: {\n    background: string;\n    userBg: string;\n    userText: string;\n    assistantBg: string;\n    assistantText: string;\n    systemBg: string;\n    systemText: string;\n    inputBg: string;\n    inputBorder: string;\n    inputFocus: string;\n  };\n  \n  // Component specific\n  toolbar: {\n    background: string;\n    backdropFilter: string;\n    shadow: string;\n  };\n  \n  dropdown: {\n    background: string;\n    border: string;\n    shadow: string;\n  };\n  \n  button: {\n    primary: {\n      background: string;\n      text: string;\n      hover: string;\n      active: string;\n      border: string;\n    };\n    secondary: {\n      background: string;\n      text: string;\n      hover: string;\n      active: string;\n      border: string;\n    };\n    ghost: {\n      background: string;\n      text: string;\n      hover: string;\n      active: string;\n      border: string;\n    };\n  };\n  \n  status: {\n    success: string;\n    warning: string;\n    error: string;\n    info: string;\n  };\n}\n\n// Dark theme (primary) - world-class developer tools aesthetic\nexport const darkTheme: Theme = {\n  // Core colors - inspired by modern IDEs and dev tools\n  background: devtoolsTokens.backgrounds.glass,\n  foreground: devtoolsTokens.text.primary,\n  border: devtoolsTokens.borders.normal,\n  borderSubdued: devtoolsTokens.borders.subtle,\n  \n  // Interactive states - smooth, professional feel\n  hover: devtoolsTokens.backgrounds.hover,\n  active: devtoolsTokens.backgrounds.active,\n  focus: devtoolsTokens.accent.blue,\n  disabled: 'rgba(255, 255, 255, 0.3)',\n  \n  // Semantic colors\n  primary: devtoolsTokens.accent.blue,\n  primaryHover: 'rgba(69, 137, 255, 0.8)',\n  secondary: devtoolsTokens.backgrounds.hover,\n  secondaryHover: devtoolsTokens.backgrounds.active,\n  muted: devtoolsTokens.text.secondary,\n  accent: devtoolsTokens.accent.blue,\n  \n  // Chat interface\n  chat: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    userBg: colors.chat.userBg,\n    userText: colors.chat.userText,\n    assistantBg: colors.chat.assistantBg,\n    assistantText: colors.chat.assistantText,\n    systemBg: colors.chat.systemBg,\n    systemText: colors.chat.systemText,\n    inputBg: 'rgba(255, 255, 255, 0.05)',\n    inputBorder: 'rgba(255, 255, 255, 0.1)',\n    inputFocus: 'rgba(255, 255, 255, 0.2)',\n  },\n  \n  // Component specific - professional developer tools\n  toolbar: {\n    background: devtoolsTokens.backgrounds.glass,\n    backdropFilter: 'blur(20px) saturate(180%)',\n    shadow: '0 20px 40px rgba(0, 0, 0, 0.4), 0 8px 16px rgba(0, 0, 0, 0.2)',\n  },\n  \n  dropdown: {\n    background: devtoolsTokens.backgrounds.panel,\n    border: devtoolsTokens.borders.normal,\n    shadow: '0 8px 32px rgba(0, 0, 0, 0.5), 0 4px 16px rgba(0, 0, 0, 0.3)',\n  },\n  \n  button: {\n    primary: {\n      background: devtoolsTokens.accent.blue,\n      text: colors.white,\n      hover: 'rgba(69, 137, 255, 0.8)',\n      active: 'rgba(69, 137, 255, 0.9)',\n      border: devtoolsTokens.accent.blue,\n    },\n    secondary: {\n      background: devtoolsTokens.backgrounds.hover,\n      text: devtoolsTokens.text.primary,\n      hover: 'rgba(255, 255, 255, 0.12)',\n      active: 'rgba(255, 255, 255, 0.16)',\n      border: devtoolsTokens.borders.normal,\n    },\n    ghost: {\n      background: 'transparent',\n      text: devtoolsTokens.text.secondary,\n      hover: devtoolsTokens.backgrounds.hover,\n      active: devtoolsTokens.backgrounds.active,\n      border: 'transparent',\n    },\n  },\n  \n  status: {\n    success: devtoolsTokens.accent.green,\n    warning: devtoolsTokens.accent.orange,\n    error: devtoolsTokens.accent.red,\n    info: devtoolsTokens.accent.blue,\n  },\n};\n\n// Light theme - for future light mode support\nexport const lightTheme: Theme = {\n  // Core colors\n  background: colors.white,\n  foreground: colors.black,\n  border: colors.gray[20],\n  borderSubdued: 'rgba(168, 168, 168, 0.2)',\n  \n  // Interactive states\n  hover: 'rgba(0, 0, 0, 0.02)',\n  active: 'rgba(0, 0, 0, 0.04)',\n  focus: colors.blue[50],\n  disabled: 'rgba(0, 0, 0, 0.3)',\n  \n  // Semantic colors\n  primary: colors.blue[50],\n  primaryHover: colors.blue[60],\n  secondary: colors.gray[10],\n  secondaryHover: colors.gray[20],\n  muted: colors.gray[50],\n  accent: colors.blue[50],\n  \n  // Chat interface\n  chat: {\n    background: colors.gray[10],\n    userBg: 'rgba(100, 100, 255, 0.1)',\n    userText: colors.black,\n    assistantBg: colors.white,\n    assistantText: colors.black,\n    systemBg: 'rgba(255, 200, 0, 0.1)',\n    systemText: 'rgba(180, 140, 0, 1)',\n    inputBg: colors.white,\n    inputBorder: colors.gray[20],\n    inputFocus: colors.blue[50],\n  },\n  \n  // Component specific\n  toolbar: {\n    background: 'rgba(255, 255, 255, 0.95)',\n    backdropFilter: 'blur(10px)',\n    shadow: shadows.lg,\n  },\n  \n  dropdown: {\n    background: colors.white,\n    border: colors.gray[20],\n    shadow: shadows.xl,\n  },\n  \n  button: {\n    primary: {\n      background: colors.black,\n      text: colors.white,\n      hover: colors.blue[50],\n      active: colors.blue[60],\n      border: colors.black,\n    },\n    secondary: {\n      background: colors.white,\n      text: colors.black,\n      hover: colors.blue[50],\n      active: colors.blue[60],\n      border: colors.gray[20],\n    },\n    ghost: {\n      background: 'transparent',\n      text: colors.gray[60],\n      hover: colors.gray[10],\n      active: colors.gray[20],\n      border: 'transparent',\n    },\n  },\n  \n  status: {\n    success: 'rgba(0, 150, 0, 1)',\n    warning: 'rgba(200, 140, 0, 1)',\n    error: 'rgba(200, 0, 0, 1)',\n    info: 'rgba(0, 100, 200, 1)',\n  },\n};\n\n// Current theme (defaults to dark)\nexport const theme = darkTheme;\n\n// Theme utilities\nexport const createThemeCSS = (selectedTheme: Theme = darkTheme): string => {\n  return `\n    :host {\n      --theme-background: ${selectedTheme.background};\n      --theme-foreground: ${selectedTheme.foreground};\n      --theme-border: ${selectedTheme.border};\n      --theme-border-subdued: ${selectedTheme.borderSubdued};\n      --theme-hover: ${selectedTheme.hover};\n      --theme-active: ${selectedTheme.active};\n      --theme-focus: ${selectedTheme.focus};\n      --theme-disabled: ${selectedTheme.disabled};\n      --theme-primary: ${selectedTheme.primary};\n      --theme-primary-hover: ${selectedTheme.primaryHover};\n      --theme-secondary: ${selectedTheme.secondary};\n      --theme-secondary-hover: ${selectedTheme.secondaryHover};\n      --theme-muted: ${selectedTheme.muted};\n      --theme-accent: ${selectedTheme.accent};\n      \n      /* Chat colors */\n      --theme-chat-background: ${selectedTheme.chat.background};\n      --theme-chat-user-bg: ${selectedTheme.chat.userBg};\n      --theme-chat-user-text: ${selectedTheme.chat.userText};\n      --theme-chat-assistant-bg: ${selectedTheme.chat.assistantBg};\n      --theme-chat-assistant-text: ${selectedTheme.chat.assistantText};\n      --theme-chat-system-bg: ${selectedTheme.chat.systemBg};\n      --theme-chat-system-text: ${selectedTheme.chat.systemText};\n      --theme-chat-input-bg: ${selectedTheme.chat.inputBg};\n      --theme-chat-input-border: ${selectedTheme.chat.inputBorder};\n      --theme-chat-input-focus: ${selectedTheme.chat.inputFocus};\n      \n      /* Typography */\n      --font-family-mono: ${typography.fontFamily.mono};\n      --font-family-title: ${typography.fontFamily.title};\n      \n      /* Component-specific colors */\n      --theme-toolbar-background: ${selectedTheme.toolbar.background};\n      --theme-toolbar-backdrop-filter: ${selectedTheme.toolbar.backdropFilter};\n      --theme-toolbar-shadow: ${selectedTheme.toolbar.shadow};\n      --theme-dropdown-background: ${selectedTheme.dropdown.background};\n      --theme-dropdown-border: ${selectedTheme.dropdown.border};\n      --theme-dropdown-shadow: ${selectedTheme.dropdown.shadow};\n      \n      /* Button variants */\n      --theme-button-primary-bg: ${selectedTheme.button.primary.background};\n      --theme-button-primary-text: ${selectedTheme.button.primary.text};\n      --theme-button-primary-hover: ${selectedTheme.button.primary.hover};\n      --theme-button-secondary-bg: ${selectedTheme.button.secondary.background};\n      --theme-button-secondary-text: ${selectedTheme.button.secondary.text};\n      --theme-button-secondary-hover: ${selectedTheme.button.secondary.hover};\n      \n      /* Status colors */\n      --theme-status-success: ${selectedTheme.status.success};\n      --theme-status-warning: ${selectedTheme.status.warning};\n      --theme-status-error: ${selectedTheme.status.error};\n      --theme-status-info: ${selectedTheme.status.info};\n      \n      /* Spacing */\n      --spacing-xs: ${spacing.xs};\n      --spacing-sm: ${spacing.sm};\n      --spacing-md: ${spacing.md};\n      --spacing-lg: ${spacing.lg};\n      --spacing-xl: ${spacing.xl};\n      --spacing-2xl: ${spacing['2xl']};\n      --spacing-3xl: ${spacing['3xl']};\n      \n      /* Border radius */\n      --radius-sm: ${borderRadius.sm};\n      --radius-base: ${borderRadius.base};\n      --radius-md: ${borderRadius.md};\n      --radius-lg: ${borderRadius.lg};\n      --radius-xl: ${borderRadius.xl};\n      --radius-2xl: ${borderRadius['2xl']};\n      \n      /* Z-index */\n      --z-index-dropdown: ${zIndex.dropdown};\n      --z-index-modal: ${zIndex.modal};\n      --z-index-popover: ${zIndex.popover};\n      --z-index-tooltip: ${zIndex.tooltip};\n      \n      /* Transitions */\n      --transition-all: ${transitions.all};\n      --transition-colors: ${transitions.colors};\n      --transition-transform: ${transitions.transform};\n      --transition-opacity: ${transitions.opacity};\n      \n      /* Animation durations */\n      --animation-duration-fast: ${transitions.duration.fast};\n      --animation-duration-base: ${transitions.duration.base};\n      --animation-duration-slow: ${transitions.duration.slow};\n      --animation-duration-slower: ${transitions.duration.slower};\n      \n      /* Animation easings */\n      --animation-easing-smooth: ${easings.smooth};\n      --animation-easing-spring: ${easings.spring};\n      --animation-easing-snappy: ${easings.snappy};\n      --animation-easing-bounce: ${easings.bounce};\n    }\n  `;\n};","/**\n * CSS Utilities - Reusable style functions and mixins\n * For Shadow DOM compatible CSS-in-JS styling\n */\n\nimport { spacing, borderRadius, typography, shadows, transitions, easings, devtools as devtoolsTokens, zIndex } from './tokens';\n\n// Typography utilities\nexport const text = {\n  xs: `font-size: ${typography.fontSize.xs}; line-height: ${typography.lineHeight.base};`,\n  sm: `font-size: ${typography.fontSize.sm}; line-height: ${typography.lineHeight.base};`,\n  base: `font-size: ${typography.fontSize.base}; line-height: ${typography.lineHeight.base};`,\n  lg: `font-size: ${typography.fontSize.lg}; line-height: ${typography.lineHeight.base};`,\n  xl: `font-size: ${typography.fontSize.xl}; line-height: ${typography.lineHeight.tight};`,\n  '2xl': `font-size: ${typography.fontSize['2xl']}; line-height: ${typography.lineHeight.tight};`,\n  '3xl': `font-size: ${typography.fontSize['3xl']}; line-height: ${typography.lineHeight.tight};`,\n  '4xl': `font-size: ${typography.fontSize['4xl']}; line-height: ${typography.lineHeight.tight};`,\n};\n\nexport const fontWeight = {\n  normal: `font-weight: ${typography.fontWeight.normal};`,\n  medium: `font-weight: ${typography.fontWeight.medium};`,\n  semibold: `font-weight: ${typography.fontWeight.semibold};`,\n  bold: `font-weight: ${typography.fontWeight.bold};`,\n};\n\nexport const fontFamily = {\n  mono: `font-family: ${typography.fontFamily.mono};`,\n  title: `font-family: ${typography.fontFamily.title};`,\n};\n\n// Layout utilities\nexport const flex = {\n  center: `display: flex; align-items: center; justify-content: center;`,\n  centerY: `display: flex; align-items: center;`,\n  centerX: `display: flex; justify-content: center;`,\n  between: `display: flex; justify-content: space-between;`,\n  around: `display: flex; justify-content: space-around;`,\n  col: `display: flex; flex-direction: column;`,\n  colCenter: `display: flex; flex-direction: column; align-items: center;`,\n  colBetween: `display: flex; flex-direction: column; justify-content: space-between;`,\n  wrap: `display: flex; flex-wrap: wrap;`,\n  nowrap: `display: flex; flex-wrap: nowrap;`,\n};\n\nexport const position = {\n  relative: `position: relative;`,\n  absolute: `position: absolute;`,\n  fixed: `position: fixed;`,\n  sticky: `position: sticky;`,\n  static: `position: static;`,\n};\n\nexport const overflow = {\n  hidden: `overflow: hidden;`,\n  auto: `overflow: auto;`,\n  scroll: `overflow: scroll;`,\n  visible: `overflow: visible;`,\n  hiddenX: `overflow-x: hidden;`,\n  hiddenY: `overflow-y: hidden;`,\n  autoX: `overflow-x: auto;`,\n  autoY: `overflow-y: auto;`,\n};\n\n// Spacing utilities\nexport const padding = {\n  xs: `padding: ${spacing.xs};`,\n  sm: `padding: ${spacing.sm};`,\n  md: `padding: ${spacing.md};`,\n  lg: `padding: ${spacing.lg};`,\n  xl: `padding: ${spacing.xl};`,\n  '2xl': `padding: ${spacing['2xl']};`,\n  '3xl': `padding: ${spacing['3xl']};`,\n  \n  // Directional padding\n  x: {\n    xs: `padding-left: ${spacing.xs}; padding-right: ${spacing.xs};`,\n    sm: `padding-left: ${spacing.sm}; padding-right: ${spacing.sm};`,\n    md: `padding-left: ${spacing.md}; padding-right: ${spacing.md};`,\n    lg: `padding-left: ${spacing.lg}; padding-right: ${spacing.lg};`,\n    xl: `padding-left: ${spacing.xl}; padding-right: ${spacing.xl};`,\n  },\n  y: {\n    xs: `padding-top: ${spacing.xs}; padding-bottom: ${spacing.xs};`,\n    sm: `padding-top: ${spacing.sm}; padding-bottom: ${spacing.sm};`,\n    md: `padding-top: ${spacing.md}; padding-bottom: ${spacing.md};`,\n    lg: `padding-top: ${spacing.lg}; padding-bottom: ${spacing.lg};`,\n    xl: `padding-top: ${spacing.xl}; padding-bottom: ${spacing.xl};`,\n  },\n};\n\nexport const margin = {\n  xs: `margin: ${spacing.xs};`,\n  sm: `margin: ${spacing.sm};`,\n  md: `margin: ${spacing.md};`,\n  lg: `margin: ${spacing.lg};`,\n  xl: `margin: ${spacing.xl};`,\n  '2xl': `margin: ${spacing['2xl']};`,\n  '3xl': `margin: ${spacing['3xl']};`,\n  \n  // Directional margin\n  x: {\n    xs: `margin-left: ${spacing.xs}; margin-right: ${spacing.xs};`,\n    sm: `margin-left: ${spacing.sm}; margin-right: ${spacing.sm};`,\n    md: `margin-left: ${spacing.md}; margin-right: ${spacing.md};`,\n    lg: `margin-left: ${spacing.lg}; margin-right: ${spacing.lg};`,\n    xl: `margin-left: ${spacing.xl}; margin-right: ${spacing.xl};`,\n  },\n  y: {\n    xs: `margin-top: ${spacing.xs}; margin-bottom: ${spacing.xs};`,\n    sm: `margin-top: ${spacing.sm}; margin-bottom: ${spacing.sm};`,\n    md: `margin-top: ${spacing.md}; margin-bottom: ${spacing.md};`,\n    lg: `margin-top: ${spacing.lg}; margin-bottom: ${spacing.lg};`,\n    xl: `margin-top: ${spacing.xl}; margin-bottom: ${spacing.xl};`,\n  },\n};\n\n// Border utilities\nexport const rounded = {\n  none: `border-radius: ${borderRadius.none};`,\n  sm: `border-radius: ${borderRadius.sm};`,\n  base: `border-radius: ${borderRadius.base};`,\n  md: `border-radius: ${borderRadius.md};`,\n  lg: `border-radius: ${borderRadius.lg};`,\n  xl: `border-radius: ${borderRadius.xl};`,\n  '2xl': `border-radius: ${borderRadius['2xl']};`,\n  full: `border-radius: ${borderRadius.full};`,\n};\n\nexport const border = {\n  none: `border: none;`,\n  base: `border: 1px solid var(--theme-border);`,\n  subdued: `border: 1px solid var(--theme-border-subdued);`,\n  focus: `border: 1px solid var(--theme-focus);`,\n  primary: `border: 1px solid var(--theme-primary);`,\n  \n  // Directional borders\n  t: `border-top: 1px solid var(--theme-border);`,\n  r: `border-right: 1px solid var(--theme-border);`,\n  b: `border-bottom: 1px solid var(--theme-border);`,\n  l: `border-left: 1px solid var(--theme-border);`,\n};\n\n// Shadow utilities\nexport const shadow = {\n  none: `box-shadow: ${shadows.none};`,\n  sm: `box-shadow: ${shadows.sm};`,\n  base: `box-shadow: ${shadows.base};`,\n  md: `box-shadow: ${shadows.md};`,\n  lg: `box-shadow: ${shadows.lg};`,\n  xl: `box-shadow: ${shadows.xl};`,\n  '2xl': `box-shadow: ${shadows['2xl']};`,\n  inner: `box-shadow: ${shadows.inner};`,\n};\n\n// Background utilities\nexport const bg = {\n  transparent: `background: transparent;`,\n  primary: `background: var(--theme-primary);`,\n  secondary: `background: var(--theme-secondary);`,\n  hover: `background: var(--theme-hover);`,\n  active: `background: var(--theme-active);`,\n  muted: `background: var(--theme-border-subdued);`,\n  chat: {\n    user: `background: var(--theme-chat-user-bg);`,\n    assistant: `background: var(--theme-chat-assistant-bg);`,\n    system: `background: var(--theme-chat-system-bg);`,\n    input: `background: var(--theme-chat-input-bg);`,\n  },\n};\n\n// Text color utilities\nexport const textColor = {\n  primary: `color: var(--theme-foreground);`,\n  secondary: `color: var(--theme-muted);`,\n  muted: `color: var(--theme-muted);`,\n  accent: `color: var(--theme-accent);`,\n  disabled: `color: var(--theme-disabled);`,\n  chat: {\n    user: `color: var(--theme-chat-user-text);`,\n    assistant: `color: var(--theme-chat-assistant-text);`,\n    system: `color: var(--theme-chat-system-text);`,\n  },\n  status: {\n    success: `color: var(--theme-status-success);`,\n    warning: `color: var(--theme-status-warning);`,\n    error: `color: var(--theme-status-error);`,\n    info: `color: var(--theme-status-info);`,\n  },\n};\n\n// Transition utilities with easing functions\nexport const transition = {\n  all: `transition: all 0.2s ${easings.smooth};`,\n  colors: `transition: color 0.15s ${easings.smooth}, background-color 0.15s ${easings.smooth}, border-color 0.15s ${easings.smooth};`,\n  transform: `transition: transform 0.2s ${easings.spring};`,\n  opacity: `transition: opacity 0.2s ${easings.smooth};`,\n  bounce: `transition: all 0.3s ${easings.bounce};`,\n  smooth: `transition: all 0.3s ${easings.smooth};`,\n  snappy: `transition: all 0.15s ${easings.snappy};`,\n  none: `transition: none;`,\n  \n  // Enhanced transitions for specific elements\n  button: `\n    transition: \n      transform 0.15s ${easings.spring},\n      background-color 0.2s ${easings.smooth},\n      border-color 0.2s ${easings.smooth},\n      box-shadow 0.2s ${easings.smooth},\n      color 0.15s ${easings.smooth};\n  `,\n  \n  message: `\n    transition: \n      opacity 0.3s ${easings.smooth},\n      transform 0.3s ${easings.spring};\n  `,\n  \n  dropdown: `\n    transition: \n      opacity 0.2s ${easings.smooth},\n      transform 0.25s ${easings.spring},\n      visibility 0.2s;\n  `,\n};\n\n// Modern LLM chat interface specific utilities - professional grade\nexport const chat = {\n  message: `\n    ${padding.md}\n    ${rounded.lg}\n    ${text.sm}\n    line-height: ${typography.lineHeight.relaxed};\n    margin-bottom: ${spacing.md};\n    max-width: 100%;\n    word-wrap: break-word;\n    animation: slideIn 0.4s ${easings.smooth};\n    will-change: transform, opacity;\n  `,\n  \n  userMessage: `\n    ${bg.chat.user}\n    ${textColor.chat.user}\n    align-self: flex-end;\n    max-width: 85%;\n  `,\n  \n  assistantMessage: `\n    ${bg.chat.assistant}\n    ${textColor.chat.assistant}\n    align-self: flex-start;\n    max-width: 100%;\n  `,\n  \n  systemMessage: `\n    ${bg.chat.system}\n    ${textColor.chat.system}\n    align-self: center;\n    max-width: 90%;\n    text-align: center;\n    ${text.xs}\n  `,\n  \n  input: `\n    width: 100%;\n    ${bg.chat.input}\n    border: 1px solid var(--theme-chat-input-border);\n    ${rounded.xl}\n    ${padding.md}\n    ${textColor.primary}\n    ${text.sm}\n    ${fontFamily.mono}\n    min-height: 44px;\n    max-height: 140px;\n    resize: none;\n    transition: all 0.2s ${easings.smooth};\n    backdrop-filter: blur(10px);\n    \n    &:hover:not(:disabled) {\n      background: var(--theme-hover);\n      border-color: var(--theme-border);\n      transform: translateY(-1px);\n    }\n    \n    &:focus {\n      outline: none;\n      background: var(--theme-hover);\n      border-color: var(--theme-chat-input-focus);\n      box-shadow: 0 0 0 3px rgba(69, 137, 255, 0.1);\n      transform: translateY(-1px);\n    }\n    \n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n    \n    &::placeholder {\n      color: var(--theme-muted);\n    }\n  `,\n};\n\n// Button variants\nexport const button = {\n  base: `\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    ${fontFamily.mono}\n    ${text.sm}\n    ${fontWeight.medium}\n    cursor: pointer;\n    ${transition.colors}\n    border: none;\n    outline: none;\n    text-decoration: none;\n    user-select: none;\n    \n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n  `,\n  \n  primary: `\n    background: var(--theme-primary);\n    color: var(--theme-background);\n    border: 1px solid var(--theme-primary);\n    \n    &:hover:not(:disabled) {\n      background: var(--theme-primary-hover);\n      border-color: var(--theme-primary-hover);\n    }\n  `,\n  \n  secondary: `\n    background: var(--theme-secondary);\n    color: var(--theme-foreground);\n    border: 1px solid var(--theme-border);\n    \n    &:hover:not(:disabled) {\n      background: var(--theme-secondary-hover);\n      border-color: var(--theme-border);\n    }\n  `,\n  \n  ghost: `\n    background: transparent;\n    color: var(--theme-muted);\n    border: 1px solid transparent;\n    \n    &:hover:not(:disabled) {\n      background: var(--theme-hover);\n      color: var(--theme-foreground);\n    }\n  `,\n  \n  icon: `\n    ${padding.sm}\n    ${rounded.md}\n    width: 36px;\n    height: 36px;\n    \n    svg {\n      width: 16px;\n      height: 16px;\n    }\n  `,\n  \n  sm: `\n    ${padding.sm}\n    ${text.xs}\n    ${rounded.md}\n    min-height: 32px;\n  `,\n  \n  md: `\n    ${padding.md}\n    ${text.sm}\n    ${rounded.lg}\n    min-height: 40px;\n  `,\n  \n  lg: `\n    ${padding.lg}\n    ${text.base}\n    ${rounded.lg}\n    min-height: 48px;\n  `,\n};\n\n// Animation keyframes - Professional micro-interactions\nexport const animations = `\n  /* Toolbar entrance animation */\n  @keyframes toolbarEntrance {\n    from { \n      opacity: 0;\n      transform: translateY(20px) scale(0.95);\n      filter: blur(4px);\n    }\n    to { \n      opacity: 1;\n      transform: translateY(0) scale(1);\n      filter: blur(0);\n    }\n  }\n  \n  /* Smooth fade in with spring */\n  @keyframes fadeIn {\n    from { \n      opacity: 0; \n      transform: translateY(8px) scale(0.98);\n    }\n    to { \n      opacity: 1; \n      transform: translateY(0) scale(1);\n    }\n  }\n  \n  /* Message slide in */\n  @keyframes slideIn {\n    from { \n      opacity: 0; \n      transform: translateX(-12px);\n    }\n    to { \n      opacity: 1; \n      transform: translateX(0);\n    }\n  }\n  \n  /* View switching animation */\n  @keyframes viewSlideIn {\n    from {\n      opacity: 0;\n      transform: translateX(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n  \n  /* Selection ring pulse */\n  @keyframes selectionPulse {\n    0% {\n      box-shadow: 0 0 0 0 rgba(69, 137, 255, 0.4);\n    }\n    70% {\n      box-shadow: 0 0 0 10px rgba(69, 137, 255, 0);\n    }\n    100% {\n      box-shadow: 0 0 0 0 rgba(69, 137, 255, 0);\n    }\n  }\n  \n  /* Smooth rotation */\n  @keyframes spin {\n    from { \n      transform: rotate(0deg); \n    }\n    to { \n      transform: rotate(360deg); \n    }\n  }\n  \n  /* Loading pulse with scale */\n  @keyframes pulse {\n    0%, 100% { \n      opacity: 0.3; \n      transform: scale(0.85); \n    }\n    50% { \n      opacity: 1; \n      transform: scale(1); \n    }\n  }\n  \n  /* Typing indicator dots */\n  @keyframes typingDot {\n    0%, 60%, 100% {\n      transform: translateY(0);\n      opacity: 0.5;\n    }\n    30% {\n      transform: translateY(-10px);\n      opacity: 1;\n    }\n  }\n  \n  /* Button hover shimmer */\n  @keyframes shimmer {\n    0% {\n      background-position: -200% center;\n    }\n    100% {\n      background-position: 200% center;\n    }\n  }\n  \n  /* Elastic bounce */\n  @keyframes bounce {\n    0%, 20%, 53%, 80%, 100% {\n      transform: translate3d(0, 0, 0);\n    }\n    40%, 43% {\n      transform: translate3d(0, -8px, 0);\n    }\n    70% {\n      transform: translate3d(0, -4px, 0);\n    }\n    90% {\n      transform: translate3d(0, -2px, 0);\n    }\n  }\n  \n  /* Component highlight animation */\n  @keyframes componentHighlight {\n    0% {\n      opacity: 0;\n      transform: scale(1.05);\n    }\n    50% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 0;\n      transform: scale(1.15);\n    }\n  }\n  \n  /* Success checkmark */\n  @keyframes checkmark {\n    0% {\n      stroke-dashoffset: 50;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  \n  /* Error shake */\n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }\n    20%, 40%, 60%, 80% { transform: translateX(2px); }\n  }\n  \n  /* @ mention dropdown entrance */\n  @keyframes dropdownEntrance {\n    from {\n      opacity: 0;\n      transform: translateY(-8px) scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0) scale(1);\n    }\n  }\n  \n  /* Ripple effect for buttons */\n  @keyframes ripple {\n    from {\n      transform: scale(0);\n      opacity: 1;\n    }\n    to {\n      transform: scale(4);\n      opacity: 0;\n    }\n  }\n  \n  /* Model card hover */\n  @keyframes cardLift {\n    from {\n      transform: translateY(0);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    }\n    to {\n      transform: translateY(-4px);\n      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);\n    }\n  }\n  \n  /* Streaming response indicator */\n  @keyframes streamingPulse {\n    0%, 100% {\n      opacity: 0.4;\n    }\n    50% {\n      opacity: 1;\n    }\n  }\n`;\n\n// Responsive utilities\nexport const responsive = {\n  mobile: (styles: string) => `\n    @media (max-width: 768px) {\n      ${styles}\n    }\n  `,\n  \n  tablet: (styles: string) => `\n    @media (min-width: 769px) and (max-width: 1024px) {\n      ${styles}\n    }\n  `,\n  \n  desktop: (styles: string) => `\n    @media (min-width: 1025px) {\n      ${styles}\n    }\n  `,\n  \n  smallScreen: (styles: string) => `\n    @media (max-width: 480px) {\n      ${styles}\n    }\n  `,\n};\n\n// Focus utilities for accessibility\nexport const focus = {\n  ring: `\n    &:focus-visible {\n      outline: 2px solid var(--theme-focus);\n      outline-offset: 2px;\n    }\n  `,\n  \n  within: `\n    &:focus-within {\n      border-color: var(--theme-focus);\n    }\n  `,\n};\n\n// Loading states with enhanced animations\nexport const loading = {\n  spinner: `\n    width: 16px;\n    height: 16px;\n    border: 2px solid var(--theme-border-subdued);\n    border-top-color: var(--theme-foreground);\n    border-radius: 50%;\n    animation: spin 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;\n    will-change: transform;\n  `,\n  \n  dots: `\n    display: inline-flex;\n    align-items: center;\n    gap: 4px;\n    \n    .dot {\n      width: 3px;\n      height: 3px;\n      background: currentColor;\n      border-radius: 50%;\n      animation: typingDot 1.4s infinite cubic-bezier(0.4, 0, 0.6, 1);\n      opacity: 0.5;\n      will-change: transform, opacity;\n    }\n    \n    .dot:nth-child(2) {\n      animation-delay: 0.16s;\n    }\n    \n    .dot:nth-child(3) {\n      animation-delay: 0.32s;\n    }\n  `,\n  \n  skeleton: `\n    background: linear-gradient(\n      90deg,\n      var(--theme-border-subdued) 25%,\n      var(--theme-hover) 50%,\n      var(--theme-border-subdued) 75%\n    );\n    background-size: 200% 100%;\n    animation: shimmer 1.5s infinite;\n    will-change: background-position;\n  `,\n  \n  streamingCursor: `\n    &::after {\n      content: 'â–‹';\n      display: inline-block;\n      vertical-align: text-bottom;\n      animation: streamingPulse 1s infinite;\n      opacity: 0.7;\n      margin-left: 2px;\n    }\n  `,\n};\n\n// Scrollbar utilities\nexport const scrollbar = {\n  thin: `\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n    }\n    \n    &::-webkit-scrollbar-track {\n      background: transparent;\n    }\n    \n    &::-webkit-scrollbar-thumb {\n      background: var(--theme-border);\n      border-radius: 3px;\n    }\n    \n    &::-webkit-scrollbar-thumb:hover {\n      background: var(--theme-muted);\n    }\n  `,\n  \n  hidden: `\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    \n    &::-webkit-scrollbar {\n      display: none;\n    }\n  `,\n};\n\n// Developer tools specific utilities - inspired by VS Code, Chrome DevTools\nexport const devtools = {\n  // Glass morphism panels\n  panel: `\n    background: ${devtoolsTokens.backgrounds.glass};\n    backdrop-filter: blur(20px) saturate(180%);\n    border: 1px solid ${devtoolsTokens.borders.normal};\n    ${rounded.xl}\n    ${shadow.xl}\n  `,\n  \n  // Interactive elements with micro-interactions\n  interactive: `\n    ${transition.all}\n    will-change: transform, background-color, border-color;\n    \n    &:hover {\n      transform: translateY(-1px);\n    }\n    \n    &:active {\n      transform: translateY(0);\n    }\n  `,\n  \n  // Professional tooltips\n  tooltip: `\n    background: ${devtoolsTokens.backgrounds.panel};\n    color: ${devtoolsTokens.text.primary};\n    ${text.xs}\n    ${padding.sm}\n    ${rounded.md}\n    border: 1px solid ${devtoolsTokens.borders.subtle};\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(10px);\n    pointer-events: none;\n    z-index: ${zIndex.tooltip};\n    animation: fadeIn 0.2s ${easings.smooth};\n    \n    &::before {\n      content: '';\n      position: absolute;\n      top: 100%;\n      left: 50%;\n      transform: translateX(-50%);\n      border: 4px solid transparent;\n      border-top-color: ${devtoolsTokens.borders.normal};\n    }\n  `,\n  \n  // Code editor styling\n  codeEditor: `\n    ${fontFamily.mono}\n    background: rgba(0, 0, 0, 0.4);\n    border: 1px solid ${devtoolsTokens.borders.subtle};\n    ${rounded.md}\n    ${padding.md}\n    color: ${devtoolsTokens.text.primary};\n    ${text.sm}\n    line-height: 1.4;\n    \n    .keyword { color: #C792EA; }\n    .string { color: #C3E88D; }\n    .number { color: #F78C6C; }\n    .comment { color: #546E7A; font-style: italic; }\n    .function { color: #82AAFF; }\n    .variable { color: #EEFFFF; }\n  `,\n  \n  // Modern badge system\n  badge: `\n    display: inline-flex;\n    align-items: center;\n    ${text.xs}\n    ${fontWeight.medium}\n    ${padding.xs}\n    ${rounded.base}\n    background: ${devtoolsTokens.backgrounds.active};\n    color: ${devtoolsTokens.text.secondary};\n    border: 1px solid ${devtoolsTokens.borders.subtle};\n    gap: 4px;\n    \n    &.success {\n      background: rgba(66, 196, 66, 0.15);\n      color: ${devtoolsTokens.accent.green};\n      border-color: rgba(66, 196, 66, 0.3);\n    }\n    \n    &.warning {\n      background: rgba(255, 140, 0, 0.15);\n      color: ${devtoolsTokens.accent.orange};\n      border-color: rgba(255, 140, 0, 0.3);\n    }\n    \n    &.error {\n      background: rgba(255, 85, 85, 0.15);\n      color: ${devtoolsTokens.accent.red};\n      border-color: rgba(255, 85, 85, 0.3);\n    }\n  `,\n  \n  // Professional loading states\n  loading: {\n    shimmer: `\n      background: linear-gradient(\n        90deg,\n        ${devtoolsTokens.backgrounds.hover} 25%,\n        ${devtoolsTokens.backgrounds.active} 50%,\n        ${devtoolsTokens.backgrounds.hover} 75%\n      );\n      background-size: 200% 100%;\n      animation: shimmer 1.5s infinite;\n      \n      @keyframes shimmer {\n        0% { background-position: -200% 0; }\n        100% { background-position: 200% 0; }\n      }\n    `,\n    \n    pulse: `\n      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n      \n      @keyframes pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n    `,\n  },\n  \n  // Modern dropdown styling\n  dropdown: `\n    background: ${devtoolsTokens.backgrounds.panel};\n    border: 1px solid ${devtoolsTokens.borders.normal};\n    ${rounded.lg}\n    ${shadow.xl}\n    backdrop-filter: blur(20px);\n    overflow: hidden;\n    \n    .dropdown-item {\n      ${padding.sm}\n      ${text.sm}\n      color: ${devtoolsTokens.text.primary};\n      cursor: pointer;\n      ${transition.colors}\n      \n      &:hover {\n        background: ${devtoolsTokens.backgrounds.hover};\n      }\n      \n      &:active, &.selected {\n        background: ${devtoolsTokens.backgrounds.active};\n        color: ${devtoolsTokens.accent.blue};\n      }\n    }\n    \n    .dropdown-separator {\n      height: 1px;\n      background: ${devtoolsTokens.borders.subtle};\n      margin: 4px 0;\n    }\n  `,\n};","/**\n * World-Class LLM Developer Tools Interface\n * Professional-grade styling inspired by VS Code, Chrome DevTools, and modern IDEs\n */\n\nimport { createThemeCSS, darkTheme } from '../styles/theme';\nimport { \n  animations, \n  chat, \n  button, \n  flex, \n  text, \n  fontFamily, \n  padding, \n  margin, \n  rounded, \n  shadow, \n  transition, \n  bg, \n  textColor, \n  border,\n  overflow,\n  scrollbar,\n  loading,\n  focus,\n  responsive,\n  devtools\n} from '../styles/utilities';\nimport { easings } from '../styles/tokens';\n\nexport const styles = `\n/* Font loading */\n@font-face {\n  font-family: 'TX02Mono-Regular';\n  src: url('https://intdev-global.s3.us-west-2.amazonaws.com/public/internet-dev/e049dfb6-9c5d-4ac4-97c2-eb6e95c61d09.woff2') format('woff2');\n  font-display: swap;\n}\n\n/* Theme variables */\n${createThemeCSS(darkTheme)}\n\n/* Animation keyframes */\n${animations}\n\n/* Base styles */\n* {\n  box-sizing: border-box;\n  ${fontFamily.mono}\n}\n\n/* Main toolbar container - world-class developer tools */\n.toolbar {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 420px;\n  height: 600px;\n  ${devtools.panel}\n  ${textColor.primary}\n  ${flex.col}\n  ${overflow.hidden}\n  z-index: 1000;\n  pointer-events: auto;\n  will-change: transform, opacity, filter;\n  \n  /* Enhanced glass morphism effect */\n  background: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(20px) saturate(180%);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  box-shadow: \n    0 20px 40px rgba(0, 0, 0, 0.4),\n    0 8px 16px rgba(0, 0, 0, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  \n  /* Entrance animation */\n  animation: toolbarEntrance 0.5s ${easings.spring} forwards;\n  \n  /* Smooth transitions for state changes */\n  transition: \n    width 0.4s ${easings.spring},\n    height 0.4s ${easings.spring},\n    transform 0.3s ${easings.smooth},\n    box-shadow 0.3s ${easings.smooth};\n  \n  /* Hover effect */\n  &:hover {\n    box-shadow: \n      0 24px 48px rgba(0, 0, 0, 0.45),\n      0 12px 20px rgba(0, 0, 0, 0.25),\n      inset 0 1px 0 rgba(255, 255, 255, 0.15);\n  }\n  \n  ${responsive.mobile(`\n    width: calc(100vw - 24px);\n    height: calc(100vh - 100px);\n    bottom: 12px;\n    right: 12px;\n    left: 12px;\n    max-width: 400px;\n    margin: 0 auto;\n  `)}\n}\n\n/* Initial hidden state */\n.toolbar.opacity-0 {\n  opacity: 0;\n  transform: translateY(20px) scale(0.95);\n}\n\n.toolbar.minimized {\n  height: 60px;\n  ${overflow.hidden}\n  \n  /* Smooth minimization transition */\n  & .header {\n    border-bottom-color: transparent;\n  }\n  \n  & .latest-message {\n    animation: fadeIn 0.3s ${easings.smooth} forwards;\n  }\n}\n\n/* Header section */\n.header {\n  ${flex.between}\n  ${padding.sm}\n  border-bottom: 1px solid var(--theme-border);\n  ${text.sm}\n  height: 44px;\n  flex-shrink: 0;\n  background: var(--theme-background);\n}\n\n.header-left {\n  ${flex.centerY}\n  gap: var(--spacing-sm);\n  min-width: 0;\n  flex: 1;\n}\n\n.chat-title {\n  opacity: 0.8;\n  cursor: pointer;\n  ${padding.sm}\n  ${rounded.base}\n  ${transition.colors}\n  white-space: nowrap;\n  ${overflow.hidden}\n  text-overflow: ellipsis;\n  min-width: 0;\n  flex: 1;\n  \n  &:hover {\n    ${bg.hover}\n    opacity: 1;\n  }\n}\n\n/* Control buttons - professional developer tools style */\n.controls {\n  ${flex.centerY}\n  gap: var(--spacing-sm);\n  width: 100%;\n  justify-content: flex-start;\n}\n\n.control-button {\n  ${button.base}\n  ${button.ghost}\n  ${button.icon}\n  ${text.sm}\n  ${devtools.interactive}\n  border-radius: 8px;\n  position: relative;\n  overflow: hidden;\n  ${transition.button}\n  \n  /* Hover shimmer effect */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    transform: translate(-50%, -50%) scale(0);\n    background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);\n    opacity: 0;\n    transition: transform 0.4s ${easings.spring}, opacity 0.3s ${easings.smooth};\n  }\n  \n  &:hover:not(:disabled) {\n    background: rgba(255, 255, 255, 0.08);\n    border-color: rgba(255, 255, 255, 0.15);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);\n    \n    &::after {\n      transform: translate(-50%, -50%) scale(2);\n      opacity: 1;\n    }\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    transition-duration: 0.1s;\n  }\n  \n  &.active {\n    background: var(--theme-accent);\n    color: white;\n    border-color: var(--theme-accent);\n    box-shadow: \n      0 0 0 1px var(--theme-accent),\n      0 4px 12px rgba(69, 137, 255, 0.3);\n    animation: selectionPulse 2s infinite;\n  }\n  \n  &.active::before {\n    content: '';\n    position: absolute;\n    inset: -1px;\n    background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1));\n    border-radius: inherit;\n    pointer-events: none;\n    opacity: 0;\n    animation: shimmer 3s infinite;\n  }\n  \n  svg {\n    width: 16px;\n    height: 16px;\n    display: block;\n    transition: transform 0.2s ${easings.spring};\n  }\n  \n  &:hover svg {\n    transform: rotate(5deg) scale(1.1);\n  }\n  \n  &:active svg {\n    transform: scale(0.9);\n  }\n}\n\n/* Chat sessions and dropdowns */\n.chats-dropdown {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: var(--theme-dropdown-background);\n  ${rounded.lg}\n  ${margin.xs}\n  max-height: 300px;\n  ${overflow.autoY}\n  box-shadow: var(--theme-dropdown-shadow);\n  z-index: var(--z-index-dropdown);\n  border: 1px solid var(--theme-border);\n  ${scrollbar.thin}\n  \n  /* Dropdown entrance animation */\n  animation: dropdownEntrance 0.3s ${easings.spring} forwards;\n  transform-origin: top center;\n}\n\n.chat-item {\n  ${padding.sm}\n  cursor: pointer;\n  ${flex.between}\n  ${transition.colors}\n  \n  &:hover {\n    ${bg.hover}\n  }\n}\n\n.chat-item-title {\n  flex: 1;\n  margin-right: var(--spacing-sm);\n  white-space: nowrap;\n  ${overflow.hidden}\n  text-overflow: ellipsis;\n}\n\n.chat-item-actions {\n  opacity: 0;\n  ${transition.opacity}\n  ${flex.centerY}\n  gap: var(--spacing-sm);\n  \n  .chat-item:hover & {\n    opacity: 1;\n  }\n}\n\n.chat-item-button {\n  ${button.base}\n  ${button.ghost}\n  ${button.sm}\n  ${text.xs}\n  \n  &:hover {\n    ${textColor.primary}\n    ${bg.hover}\n  }\n}\n\n/* Documentation and suggestions */\n.docs-section {\n  margin-top: var(--spacing-sm);\n  padding-top: var(--spacing-sm);\n  border-top: 1px solid var(--theme-border);\n}\n\n.docs-link {\n  ${flex.col}\n  gap: var(--spacing-xs);\n  ${padding.sm}\n  ${bg.muted}\n  ${rounded.base}\n  margin-bottom: var(--spacing-sm);\n  cursor: pointer;\n  ${transition.colors}\n  text-decoration: none;\n  color: inherit;\n  \n  &:hover {\n    ${bg.hover}\n  }\n}\n\n.docs-link-title {\n  font-weight: 500;\n  ${textColor.primary}\n  ${text.sm}\n}\n\n.docs-link-description {\n  ${text.xs}\n  ${textColor.muted}\n}\n\n.suggested-queries {\n  margin-top: var(--spacing-sm);\n  padding-top: var(--spacing-sm);\n  border-top: 1px solid var(--theme-border);\n}\n\n.suggested-queries-title {\n  ${text.xs}\n  ${textColor.muted}\n  margin-bottom: var(--spacing-sm);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.suggested-queries-list {\n  ${flex.wrap}\n  gap: var(--spacing-sm);\n}\n\n.suggested-query {\n  ${padding.xs}\n  ${bg.muted}\n  ${rounded.base}\n  ${text.xs}\n  cursor: pointer;\n  ${transition.colors}\n  \n  &:hover {\n    ${bg.hover}\n    ${textColor.primary}\n  }\n}\n\n/* Messages container - modern LLM chat layout */\n.messages {\n  flex: 1;\n  ${overflow.autoY}\n  ${padding.md}\n  ${flex.col}\n  gap: var(--spacing-md);\n  ${scrollbar.thin}\n  scroll-behavior: smooth;\n}\n\n.message {\n  ${chat.message}\n  opacity: 0;\n  animation: slideIn 0.4s ${easings.spring} forwards;\n  animation-delay: 0.05s;\n  \n  /* Hover effect for messages */\n  transition: transform 0.2s ${easings.smooth}, box-shadow 0.2s ${easings.smooth};\n  \n  &:hover {\n    transform: translateX(2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n}\n\n.user-message {\n  ${chat.userMessage}\n  ${bg.chat.user}\n  ${textColor.chat.user}\n  align-self: flex-end;\n  max-width: 85%;\n  ${responsive.mobile('max-width: 95%;')}\n}\n\n.assistant-message {\n  ${chat.assistantMessage}\n  ${bg.chat.assistant}\n  ${textColor.chat.assistant}\n  align-self: flex-start;\n  max-width: 100%;\n  \n  pre {\n    background: var(--theme-hover);\n    ${padding.sm}\n    ${rounded.base}\n    ${overflow.autoX}\n    ${text.xs}\n    ${fontFamily.mono}\n    margin: var(--spacing-sm) 0;\n    ${scrollbar.thin}\n  }\n  \n  code {\n    background: var(--theme-hover);\n    ${padding.xs}\n    ${rounded.sm}\n    ${text.xs}\n    ${fontFamily.mono}\n  }\n  \n  ul, ol {\n    margin: var(--spacing-sm) 0;\n    padding-left: var(--spacing-lg);\n  }\n  \n  p {\n    margin: var(--spacing-sm) 0;\n    \n    &:first-child {\n      margin-top: 0;\n    }\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  \n  h1, h2, h3, h4, h5, h6 {\n    margin: var(--spacing-md) 0 var(--spacing-sm) 0;\n    font-weight: 500;\n    \n    &:first-child {\n      margin-top: 0;\n    }\n  }\n  \n  blockquote {\n    border-left: 3px solid var(--theme-accent);\n    ${padding.sm}\n    margin: var(--spacing-sm) 0;\n    background: var(--theme-hover);\n    ${textColor.muted}\n  }\n}\n\n/* Relevant files section */\n.relevant-files {\n  ${flex.wrap}\n  gap: var(--spacing-sm);\n  margin-top: var(--spacing-sm);\n  padding-top: var(--spacing-sm);\n  border-top: 1px solid var(--theme-border);\n}\n\n.relevant-file {\n  ${flex.centerY}\n  gap: var(--spacing-xs);\n  ${padding.xs}\n  ${bg.muted}\n  ${rounded.base}\n  ${text.xs}\n  cursor: pointer;\n  ${transition.colors}\n  max-width: 100%;\n  ${overflow.hidden}\n  \n  &:hover {\n    ${bg.hover}\n    ${textColor.primary}\n  }\n}\n\n.file-path {\n  ${overflow.hidden}\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  ${fontFamily.mono}\n}\n\n.chat-sessions {\n  display: flex;\n  gap: 8px;\n  padding: 8px 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  overflow-x: auto;\n}\n\n.chat-tab {\n  padding: 4px 8px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  white-space: nowrap;\n  transition: background 0.2s ease;\n}\n\n.chat-tab:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n.chat-tab.active {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.new-chat-button {\n  background: rgba(255, 255, 255, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: rgba(255, 255, 255, 0.9);\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.new-chat-button:hover {\n  background: rgba(255, 255, 255, 0.2);\n  border-color: rgba(255, 255, 255, 0.3);\n}\n\n/* Legacy input area styles - kept for compatibility */\n.input-area {\n  position: sticky;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.8);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 16px;\n  display: flex;\n  gap: 12px;\n  backdrop-filter: blur(10px);\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  text-align: center;\n  padding: 32px;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.empty-state-title {\n  font-size: 20px;\n  margin-bottom: 12px;\n  font-weight: 500;\n}\n\n.empty-state-description {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.6);\n  margin-bottom: 24px;\n  max-width: 280px;\n  line-height: 1.5;\n}\n\n.content-tabs {\n  display: flex;\n  gap: 2px;\n  padding: 8px 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  height: 44px;\n  flex-shrink: 0;\n}\n\n.content-tab {\n  padding: 4px 8px;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.6);\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.content-tab:hover {\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.content-tab.active {\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.content-section {\n  position: absolute;\n  inset: 88px 0 60px 0;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  pointer-events: none;\n  overflow-y: auto;\n  padding: 12px;\n}\n\n.content-section.active {\n  opacity: 1;\n  pointer-events: all;\n}\n\n.files-grid, .docs-grid {\n  display: grid;\n  gap: 8px;\n  padding: 12px;\n}\n\n.file-card, .doc-card {\n  background: rgba(255, 255, 255, 0.05);\n  padding: 8px;\n  border-radius: 4px;\n  transition: background 0.2s ease;\n  cursor: pointer;\n}\n\n.file-card:hover, .doc-card:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.file-card-path {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.9);\n  margin-bottom: 4px;\n}\n\n.file-card-reason {\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.doc-card-title {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.9);\n  margin-bottom: 4px;\n}\n\n.doc-card-description {\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.loading-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 14px;\n}\n\n.loading-dots {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  margin-left: 4px;\n}\n\n.loading-dot {\n  width: 3px;\n  height: 3px;\n  background: currentColor;\n  border-radius: 50%;\n  animation: typingDot 1.4s infinite ${easings.smooth};\n  opacity: 0.5;\n  will-change: transform, opacity;\n}\n\n.loading-dot:nth-child(2) {\n  animation-delay: 0.16s;\n}\n\n.loading-dot:nth-child(3) {\n  animation-delay: 0.32s;\n}\n\n/* Streaming response animation */\n.assistant-message.streaming {\n  ${loading.streamingCursor}\n}\n\n/* Messages Container */\n.messages-container {\n  flex: 1;\n  ${overflow.autoY}\n  ${padding.md}\n  ${flex.col}\n  gap: var(--spacing-md);\n  scroll-behavior: smooth;\n  ${scrollbar.thin}\n}\n\n.message-wrapper {\n  animation: fadeIn 0.3s ease;\n}\n\n/* Modern LLM Chat Input Area - Next.js DevTools inspired */\n.input-area {\n  border-top: 1px solid rgba(255, 255, 255, 0.06);\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(10px);\n  flex-shrink: 0;\n  ${padding.sm}\n  position: relative;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    background: linear-gradient(\n      90deg,\n      transparent,\n      rgba(255, 255, 255, 0.1),\n      transparent\n    );\n  }\n}\n\n.input-form {\n  margin-bottom: var(--spacing-sm);\n}\n\n.input-area .input {\n  ${chat.input}\n  ${focus.ring}\n  \n  /* Smooth focus transition */\n  &:focus {\n    animation: selectionPulse 2s infinite;\n  }\n  \n  /* Placeholder animation */\n  &::placeholder {\n    transition: opacity 0.3s ${easings.smooth};\n  }\n  \n  &:focus::placeholder {\n    opacity: 0.5;\n  }\n  \n  ${responsive.mobile(`\n    font-size: 16px; /* Prevents zoom on iOS */\n  `)}\n}\n\n.input-controls {\n  ${flex.between}\n  gap: var(--spacing-sm);\n}\n\n.control-icon-button {\n  ${button.base}\n  ${button.ghost}\n  ${padding.sm}\n  ${rounded.md}\n  width: 36px;\n  height: 36px;\n  \n  &.active {\n    background: var(--theme-accent);\n    color: var(--theme-background);\n  }\n  \n  svg {\n    width: 18px;\n    height: 18px;\n  }\n}\n\n.send-button {\n  ${button.base}\n  ${button.primary}\n  ${padding.sm}\n  ${rounded.lg}\n  ${text.base}\n  min-width: 44px;\n  height: 36px;\n  margin-left: auto;\n  position: relative;\n  overflow: hidden;\n  ${transition.button}\n  \n  /* Ripple effect container */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.5);\n    transform: translate(-50%, -50%);\n    transition: width 0.6s, height 0.6s;\n  }\n  \n  /* Shimmer effect */\n  &::after {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(\n      105deg,\n      transparent 40%,\n      rgba(255, 255, 255, 0.2) 50%,\n      transparent 60%\n    );\n    animation: shimmer 2s infinite;\n    animation-play-state: paused;\n  }\n  \n  &:hover:not(:disabled) {\n    background: rgba(69, 137, 255, 0.9);\n    transform: translateY(-2px) scale(1.05);\n    box-shadow: \n      0 8px 20px rgba(69, 137, 255, 0.35),\n      0 4px 8px rgba(0, 0, 0, 0.2);\n      \n    &::after {\n      animation-play-state: running;\n    }\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0) scale(1);\n    transition-duration: 0.1s;\n    \n    &::before {\n      width: 120px;\n      height: 120px;\n    }\n  }\n  \n  &:disabled {\n    background: rgba(255, 255, 255, 0.1);\n    color: rgba(255, 255, 255, 0.3);\n    transform: none;\n    box-shadow: none;\n    cursor: not-allowed;\n    \n    &::after {\n      display: none;\n    }\n  }\n  \n  /* Sending state animation */\n  &:disabled:not(.error) {\n    &::after {\n      content: '';\n      display: block;\n      position: absolute;\n      inset: 0;\n      background: linear-gradient(\n        90deg,\n        transparent 0%,\n        rgba(255, 255, 255, 0.1) 50%,\n        transparent 100%\n      );\n      animation: shimmer 1s infinite;\n    }\n  }\n}\n\n/* Minimized state */\n.minimized .messages,\n.minimized .input-area {\n  display: none;\n}\n\n.minimized .latest-message {\n  display: block;\n  ${padding.sm}\n  white-space: nowrap;\n  ${overflow.hidden}\n  text-overflow: ellipsis;\n  line-height: 40px;\n  ${textColor.muted}\n}\n\n/* Model Selector Styles */\n.model-selector {\n  position: relative;\n  z-index: var(--z-index-dropdown);\n}\n\n.model-selector-header {\n  position: relative;\n}\n\n.model-selector-toggle {\n  ${button.base}\n  ${button.ghost}\n  ${padding.sm}\n  ${text.sm}\n  ${flex.centerY}\n  gap: var(--spacing-xs);\n  \n  &:hover {\n    opacity: 0.8;\n  }\n}\n\n.selected-model-info {\n  ${flex.col}\n  align-items: flex-start;\n  text-align: left;\n}\n\n.model-name {\n  ${text.xs}\n  font-weight: 500;\n}\n\n.model-provider {\n  font-size: 10px;\n  ${textColor.muted}\n}\n\n.no-model {\n  ${text.xs}\n  ${textColor.muted}\n}\n\n.expand-icon {\n  font-size: 10px;\n  ${transition.transform}\n  \n  &.expanded {\n    transform: rotate(180deg);\n  }\n}\n\n/* Model selector dropdown */\n.model-selector-dropdown {\n  position: absolute;\n  top: calc(100% + var(--spacing-sm));\n  right: 0;\n  width: 380px;\n  max-height: 500px;\n  background: var(--theme-dropdown-background);\n  border: 1px solid var(--theme-border);\n  ${rounded.lg}\n  box-shadow: var(--theme-dropdown-shadow);\n  ${overflow.hidden}\n  ${flex.col}\n  z-index: var(--z-index-popover);\n  \n  ${responsive.mobile(`\n    width: calc(100vw - 32px);\n    right: -12px;\n    max-width: 380px;\n  `)}\n}\n\n/* Search and filter section */\n.search-section {\n  ${padding.sm}\n  border-bottom: 1px solid var(--theme-border);\n}\n\n.model-search-input {\n  width: 100%;\n  background: var(--theme-secondary);\n  border: 1px solid var(--theme-border);\n  ${rounded.md}\n  ${padding.sm}\n  ${textColor.primary}\n  ${text.sm}\n  ${transition.colors}\n  ${fontFamily.mono}\n  \n  &:focus {\n    outline: none;\n    border-color: var(--theme-focus);\n    background: var(--theme-hover);\n  }\n  \n  &::placeholder {\n    ${textColor.muted}\n  }\n}\n\n/* Filter options */\n.filter-options {\n  margin-top: var(--spacing-sm);\n}\n\n.filter-checkbox {\n  ${flex.centerY}\n  gap: var(--spacing-xs);\n  ${text.xs}\n  ${textColor.muted}\n  cursor: pointer;\n  \n  input[type=\"checkbox\"] {\n    width: 14px;\n    height: 14px;\n    cursor: pointer;\n    accent-color: var(--theme-accent);\n  }\n}\n\n/* Loading states */\n.loading-models {\n  ${flex.center}\n  gap: var(--spacing-sm);\n  ${padding.xl}\n  ${textColor.muted}\n  ${text.sm}\n}\n\n.loading-spinner {\n  ${loading.spinner}\n}\n\n/* Loading dots for streaming */\n.loading-dots {\n  ${loading.dots}\n}\n\n.loading-dot {\n  width: 3px;\n  height: 3px;\n  background: currentColor;\n  border-radius: 50%;\n  animation: pulse 1.4s infinite;\n  opacity: 0.6;\n  \n  &:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  \n  &:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n}\n\n.model-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n}\n\n.model-group {\n  margin-bottom: 16px;\n}\n\n.group-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n  font-size: 11px;\n  text-transform: uppercase;\n  color: rgba(255, 255, 255, 0.5);\n  font-weight: 600;\n  letter-spacing: 0.05em;\n}\n\n.model-count {\n  font-weight: normal;\n  opacity: 0.6;\n}\n\n.model-items {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.model-option {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 10px 12px;\n  cursor: pointer;\n  width: 100%;\n  text-align: left;\n  position: relative;\n  overflow: hidden;\n  ${transition.all}\n  \n  /* Hover glow effect */\n  &::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: radial-gradient(\n      circle at var(--mouse-x, 50%) var(--mouse-y, 50%),\n      rgba(255, 255, 255, 0.1) 0%,\n      transparent 50%\n    );\n    opacity: 0;\n    transition: opacity 0.3s ${easings.smooth};\n    pointer-events: none;\n  }\n}\n\n.model-option:hover {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: rgba(255, 255, 255, 0.1);\n  transform: translateX(2px);\n  \n  &::before {\n    opacity: 1;\n  }\n}\n\n.model-option.selected {\n  background: rgba(255, 255, 255, 0.15);\n  border-color: rgba(255, 255, 255, 0.3);\n  animation: selectionPulse 2s infinite;\n}\n\n.model-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.model-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.model-option .model-name {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n}\n\n.model-badge {\n  font-size: 11px;\n  padding: 2px 6px;\n  border-radius: 4px;\n  background: rgba(255, 200, 0, 0.2);\n  color: rgba(255, 200, 0, 0.9);\n}\n\n.model-details {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.model-context {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.model-price {\n  color: rgba(100, 255, 100, 0.8);\n}\n\n.no-models {\n  padding: 32px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 13px;\n}\n\n.model-selector-footer {\n  padding: 8px 12px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  background: rgba(0, 0, 0, 0.5);\n}\n\n.model-info-text {\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.5);\n  text-align: center;\n}\n\n/* Full Page Views */\n.view-container {\n  position: absolute;\n  inset: 0;\n  background: var(--theme-background);\n  z-index: var(--z-index-modal);\n  ${flex.col}\n  ${overflow.hidden}\n  opacity: 0;\n  animation: viewSlideIn 0.3s ${easings.spring} forwards;\n}\n\n.view-header {\n  ${flex.between}\n  ${padding.md}\n  border-bottom: 1px solid var(--theme-border);\n  flex-shrink: 0;\n}\n\n.view-title {\n  ${text.xl}\n  font-weight: 500;\n  ${textColor.primary}\n}\n\n.view-close {\n  ${button.base}\n  ${button.ghost}\n  ${padding.sm}\n  ${rounded.base}\n  ${text.xl}\n  line-height: 1;\n  width: 36px;\n  height: 36px;\n  \n  &:hover {\n    ${bg.hover}\n    ${textColor.primary}\n  }\n}\n\n.view-content {\n  flex: 1;\n  ${overflow.autoY}\n  ${padding.lg}\n  ${scrollbar.thin}\n}\n\n/* Settings View */\n.settings-section {\n  margin-bottom: var(--spacing-2xl);\n}\n\n.settings-label {\n  display: block;\n  ${text.sm}\n  ${textColor.primary}\n  margin-bottom: var(--spacing-sm);\n  font-weight: 500;\n}\n\n.settings-input {\n  width: 100%;\n  background: var(--theme-secondary);\n  border: 1px solid var(--theme-border);\n  ${rounded.lg}\n  ${padding.md}\n  ${textColor.primary}\n  ${text.sm}\n  ${transition.colors}\n  ${fontFamily.mono}\n  \n  &:focus {\n    outline: none;\n    border-color: var(--theme-focus);\n    background: var(--theme-hover);\n  }\n  \n  &::placeholder {\n    ${textColor.muted}\n  }\n}\n\n.settings-hint {\n  ${text.xs}\n  ${textColor.muted}\n  margin-top: var(--spacing-xs);\n  \n  a {\n    color: var(--theme-accent);\n    text-decoration: none;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n}\n\n.settings-button {\n  ${button.base}\n  ${button.primary}\n  ${button.md}\n  margin-top: var(--spacing-md);\n}\n\n/* Models View */\n.models-grid {\n  display: grid;\n  gap: 16px;\n}\n\n.model-card {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 12px;\n  padding: 16px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  ${transition.all}\n  will-change: transform, box-shadow;\n  \n  /* Gradient border animation */\n  &::before {\n    content: '';\n    position: absolute;\n    inset: -2px;\n    background: linear-gradient(\n      45deg,\n      transparent,\n      var(--theme-accent),\n      transparent\n    );\n    border-radius: inherit;\n    opacity: 0;\n    z-index: -1;\n    transition: opacity 0.3s ${easings.smooth};\n  }\n}\n\n.model-card:hover {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(255, 255, 255, 0.2);\n  transform: translateY(-4px) scale(1.02);\n  box-shadow: \n    0 12px 24px rgba(0, 0, 0, 0.2),\n    0 8px 16px rgba(69, 137, 255, 0.1);\n  \n  &::before {\n    opacity: 0.5;\n    animation: shimmer 2s linear infinite;\n  }\n}\n\n.model-card.selected {\n  background: rgba(255, 255, 255, 0.15);\n  border-color: rgba(255, 255, 255, 0.3);\n  box-shadow: \n    0 0 0 2px var(--theme-accent),\n    0 8px 16px rgba(69, 137, 255, 0.2);\n  \n  &::before {\n    opacity: 1;\n  }\n}\n\n.model-card-header {\n  display: flex;\n  align-items: start;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.model-card-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.model-card-provider {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.5);\n  margin-top: 4px;\n}\n\n.model-card-badge {\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: 500;\n}\n\n.model-card-badge.recommended {\n  background: rgba(255, 200, 0, 0.2);\n  color: rgba(255, 200, 0, 0.9);\n}\n\n.model-card-specs {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.model-spec {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.model-spec-label {\n  font-size: 11px;\n  color: rgba(255, 255, 255, 0.5);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.model-spec-value {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.8);\n  font-weight: 500;\n}\n\n.model-card-description {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.6);\n  line-height: 1.5;\n}\n\n.api-key-prompt {\n  background: rgba(255, 200, 0, 0.1);\n  border: 1px solid rgba(255, 200, 0, 0.2);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 24px;\n  text-align: center;\n}\n\n.api-key-prompt-text {\n  color: rgba(255, 200, 0, 0.9);\n  font-size: 14px;\n  margin-bottom: 12px;\n}\n\n.api-key-prompt-button {\n  background: rgba(255, 200, 0, 0.2);\n  border: 1px solid rgba(255, 200, 0, 0.3);\n  color: rgba(255, 200, 0, 0.9);\n  padding: 8px 16px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 13px;\n}\n\n.api-key-prompt-button:hover {\n  background: rgba(255, 200, 0, 0.3);\n  border-color: rgba(255, 200, 0, 0.4);\n}\n\n/* Empty States */\n.empty-state {\n  ${flex.colCenter}\n  ${flex.center}\n  height: 100%;\n  text-align: center;\n  ${padding.xl}\n  ${textColor.primary}\n}\n\n.empty-state-title {\n  ${text.xl}\n  margin-bottom: var(--spacing-sm);\n  font-weight: 500;\n}\n\n.empty-state-description {\n  ${text.sm}\n  ${textColor.muted}\n  margin-bottom: var(--spacing-lg);\n  max-width: 280px;\n  line-height: 1.6;\n}\n\n.empty-components {\n  ${flex.colCenter}\n  ${flex.center}\n  min-height: 200px;\n  text-align: center;\n  \n  p {\n    ${textColor.muted}\n    margin-bottom: var(--spacing-md);\n  }\n}\n\n.select-component-button {\n  ${button.base}\n  ${flex.centerY}\n  gap: var(--spacing-sm);\n  ${padding.sm}\n  background: var(--theme-accent);\n  color: var(--theme-background);\n  border: 1px solid var(--theme-accent);\n  ${rounded.lg}\n  \n  &:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n  }\n  \n  svg {\n    width: 16px;\n    height: 16px;\n  }\n}\n\n.new-chat-button {\n  ${button.base}\n  ${button.primary}\n  ${button.lg}\n  ${flex.centerY}\n  gap: var(--spacing-sm);\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-1px);\n  }\n}\n\n.components-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.component-item {\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  padding: 16px;\n}\n\n.component-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.component-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.remove-button {\n  background: none;\n  border: none;\n  color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n  font-size: 20px;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.remove-button:hover {\n  background: rgba(255, 255, 255, 0.1);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.component-details {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.detail-row {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.detail-label {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.5);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.detail-value {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.8);\n  font-family: 'IosevkaTerm', monospace;\n}\n\n.props-value {\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  padding: 8px;\n  overflow-x: auto;\n  font-size: 12px;\n}\n\n.component-actions {\n  margin-top: 8px;\n}\n\n.action-button {\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  border-radius: 6px;\n  color: rgba(255, 255, 255, 0.9);\n  cursor: pointer;\n  padding: 6px 12px;\n  font-size: 13px;\n  transition: all 0.2s ease;\n}\n\n.action-button:hover {\n  background: rgba(255, 255, 255, 0.15);\n  border-color: rgba(255, 255, 255, 0.2);\n}\n\n/* Component list items */\n.components-list {\n  ${flex.col}\n  gap: var(--spacing-md);\n}\n\n.component-item {\n  background: var(--theme-secondary);\n  border: 1px solid var(--theme-border);\n  ${rounded.lg}\n  ${padding.md}\n}\n\n.component-header {\n  ${flex.between}\n  margin-bottom: var(--spacing-sm);\n}\n\n.component-name {\n  ${text.lg}\n  font-weight: 500;\n  ${textColor.primary}\n}\n\n.remove-button {\n  ${button.base}\n  ${button.ghost}\n  ${text.xl}\n  line-height: 1;\n  width: 24px;\n  height: 24px;\n  ${rounded.base}\n  \n  &:hover {\n    ${bg.hover}\n    ${textColor.primary}\n  }\n}\n\n.component-details {\n  ${flex.col}\n  gap: var(--spacing-sm);\n}\n\n.detail-row {\n  ${flex.col}\n  gap: var(--spacing-xs);\n}\n\n.detail-label {\n  ${text.xs}\n  ${textColor.muted}\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.detail-value {\n  ${text.sm}\n  ${textColor.primary}\n  ${fontFamily.mono}\n}\n\n.props-value {\n  background: var(--theme-hover);\n  border: 1px solid var(--theme-border);\n  ${rounded.base}\n  ${padding.sm}\n  ${overflow.autoX}\n  ${text.xs}\n  ${scrollbar.thin}\n}\n\n.component-actions {\n  margin-top: var(--spacing-sm);\n}\n\n.action-button {\n  ${button.base}\n  ${button.secondary}\n  ${button.sm}\n}\n\n.hook-item {\n  ${text.xs}\n  ${textColor.muted}\n  margin-bottom: var(--spacing-xs);\n  ${fontFamily.mono}\n}\n\n/* Responsive improvements */\n${responsive.mobile(`\n  .toolbar {\n    width: calc(100vw - 24px);\n    height: calc(100vh - 100px);\n    bottom: 12px;\n    right: 12px;\n    left: 12px;\n    max-width: 400px;\n    margin: 0 auto;\n  }\n  \n  .view-content {\n    padding: var(--spacing-md);\n  }\n  \n  .user-message {\n    max-width: 95%;\n  }\n`)}\n\n/* Dark mode optimizations */\n@media (prefers-color-scheme: dark) {\n  .toolbar {\n    backdrop-filter: blur(20px);\n  }\n}\n\n/* Component selection overlay animation */\n.component-overlay {\n  pointer-events: none;\n  \n  &.highlight {\n    animation: componentHighlight 1.5s ${easings.smooth} infinite;\n  }\n}\n\n/* Success/Error feedback animations */\n.feedback-success {\n  animation: checkmark 0.6s ${easings.spring} forwards;\n}\n\n.feedback-error {\n  animation: shake 0.5s ${easings.snappy};\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  .toolbar {\n    border: 2px solid var(--theme-border);\n  }\n  \n  .control-button {\n    border-width: 2px;\n  }\n  \n  /* Stronger shadows for better visibility */\n  .toolbar, .model-card:hover, .send-button:hover {\n    box-shadow: \n      0 0 0 2px var(--theme-foreground),\n      0 8px 16px rgba(0, 0, 0, 0.8);\n  }\n}\n\n/* Reduced motion support - critical for accessibility */\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n  \n  /* Preserve essential state changes */\n  .toolbar {\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n  \n  .message {\n    animation: none;\n    opacity: 1;\n  }\n  \n  .loading-dot {\n    animation: none;\n    opacity: 0.8;\n  }\n}\n`; ","/** @jsx h */\nimport { h } from 'preact';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { ComponentInspector as BippyInspector, type ComponentInfo } from '../instrumentation/bippy-adapter';\n\ninterface Props {\n  isActive: boolean;\n  onSelect: (component: ComponentInfo) => void;\n  theme?: 'light' | 'dark';\n}\n\nexport function ComponentInspector({ isActive, onSelect, theme = 'dark' }: Props) {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const inspectorRef = useRef<BippyInspector | null>(null);\n  const cleanupRef = useRef<(() => void) | null>(null);\n  \n  useEffect(() => {\n    // Clean up any existing listeners first\n    if (cleanupRef.current) {\n      cleanupRef.current();\n      cleanupRef.current = null;\n    }\n    \n    // If not active, ensure everything is cleaned up and return\n    if (!isActive) {\n      if (containerRef.current) {\n        containerRef.current.remove();\n        containerRef.current = null;\n      }\n      return;\n    }\n    \n    // Only proceed if active\n    console.log('[ComponentInspector] Activating component selection mode');\n    \n    // Initialize bippy inspector\n    if (!inspectorRef.current) {\n      inspectorRef.current = (window as any).ReactLLM?.inspector || new BippyInspector();\n    }\n    \n    // Create container for canvas overlay (following react-scan pattern)\n    const container = document.createElement('div');\n    container.setAttribute('data-react-llm-inspector', 'true');\n    container.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n      z-index: 2147483646;\n    `;\n    \n    // Create canvas directly (no shadow DOM needed for overlay)\n    const canvas = document.createElement('canvas');\n    canvas.style.cssText = `\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n      display: block;\n    `;\n    \n    // Set canvas size\n    canvas.width = window.innerWidth * window.devicePixelRatio;\n    canvas.height = window.innerHeight * window.devicePixelRatio;\n    canvas.style.width = `${window.innerWidth}px`;\n    canvas.style.height = `${window.innerHeight}px`;\n    \n    container.appendChild(canvas);\n    document.body.appendChild(container);\n    \n    containerRef.current = container;\n    canvasRef.current = canvas;\n    \n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      console.error('[ComponentInspector] Failed to get canvas context');\n      return;\n    }\n    \n    // Scale for device pixel ratio\n    ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n    \n    let hoveredComponent: ComponentInfo | null = null;\n    let animationFrameId: number | null = null;\n    \n    const drawHighlight = (component: ComponentInfo) => {\n      if (!component.domElement || !ctx) return;\n      \n      const rect = component.domElement.getBoundingClientRect();\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n      \n      // Draw highlight\n      ctx.fillStyle = theme === 'dark' ? 'rgba(59, 130, 246, 0.15)' : 'rgba(37, 99, 235, 0.15)';\n      ctx.fillRect(rect.left, rect.top, rect.width, rect.height);\n      \n      ctx.strokeStyle = theme === 'dark' ? 'rgba(59, 130, 246, 0.8)' : 'rgba(37, 99, 235, 0.8)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(rect.left, rect.top, rect.width, rect.height);\n      \n      // Draw label\n      const label = component.name || 'Component';\n      ctx.font = '12px -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif';\n      ctx.fillStyle = theme === 'dark' ? 'rgba(0, 0, 0, 0.8)' : 'rgba(255, 255, 255, 0.9)';\n      const labelPadding = 4;\n      const labelHeight = 20;\n      const textMetrics = ctx.measureText(label);\n      const labelWidth = textMetrics.width + labelPadding * 2;\n      \n      const labelY = rect.top > labelHeight ? rect.top - labelHeight : rect.bottom;\n      ctx.fillRect(rect.left, labelY, labelWidth, labelHeight);\n      \n      ctx.fillStyle = theme === 'dark' ? '#ffffff' : '#000000';\n      ctx.fillText(label, rect.left + labelPadding, labelY + 14);\n    };\n    \n    const handleMouseMove = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      \n      // Skip if hovering over React LLM UI\n      if (target.closest('[data-react-llm-inspector]') || \n          target.closest('[data-react-llm]') ||\n          target.closest('#react-llm-root')) {\n        if (hoveredComponent) {\n          ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n          hoveredComponent = null;\n        }\n        return;\n      }\n      \n      const component = inspectorRef.current?.getComponentAtPoint(e.clientX, e.clientY);\n      if (component && component !== hoveredComponent) {\n        hoveredComponent = component;\n        if (animationFrameId) {\n          cancelAnimationFrame(animationFrameId);\n        }\n        animationFrameId = requestAnimationFrame(() => {\n          drawHighlight(component);\n        });\n      } else if (!component && hoveredComponent) {\n        ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\n        hoveredComponent = null;\n      }\n    };\n    \n    const handleClick = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      \n      // Skip if clicking React LLM UI\n      if (target.closest('[data-react-llm-inspector]') || \n          target.closest('[data-react-llm]') ||\n          target.closest('#react-llm-root')) {\n        return;\n      }\n      \n      const component = inspectorRef.current?.getComponentAtPoint(e.clientX, e.clientY);\n      if (component) {\n        // Prevent default to stop the click from going through\n        e.preventDefault();\n        e.stopPropagation();\n        \n        // Select the component and immediately clean up\n        onSelect(component);\n        console.log('[ComponentInspector] Component selected:', component.name);\n        \n        // Clean up immediately after selection\n        if (cleanupRef.current) {\n          cleanupRef.current();\n        }\n      }\n    };\n    \n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        console.log('[ComponentInspector] Escape pressed, canceling selection');\n        // Trigger deactivation by calling onSelect with null\n        onSelect(null as any);\n      }\n    };\n    \n    const handleResize = () => {\n      if (!canvas) return;\n      canvas.width = window.innerWidth * window.devicePixelRatio;\n      canvas.height = window.innerHeight * window.devicePixelRatio;\n      canvas.style.width = `${window.innerWidth}px`;\n      canvas.style.height = `${window.innerHeight}px`;\n      ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n      \n      // Redraw if there's a hovered component\n      if (hoveredComponent) {\n        drawHighlight(hoveredComponent);\n      }\n    };\n    \n    // Add event listeners (use capture phase only for click to intercept before page)\n    document.addEventListener('mousemove', handleMouseMove, false);\n    document.addEventListener('click', handleClick, true); // Only click uses capture\n    document.addEventListener('keydown', handleKeyDown, false);\n    window.addEventListener('resize', handleResize, false);\n    \n    // Store cleanup function\n    cleanupRef.current = () => {\n      console.log('[ComponentInspector] Cleaning up event listeners');\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('click', handleClick, true);\n      document.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('resize', handleResize);\n      \n      if (animationFrameId) {\n        cancelAnimationFrame(animationFrameId);\n      }\n      \n      if (containerRef.current) {\n        containerRef.current.remove();\n        containerRef.current = null;\n      }\n      \n      canvasRef.current = null;\n    };\n    \n    // Return cleanup function\n    return cleanupRef.current;\n  }, [isActive, onSelect, theme]);\n  \n  // This component doesn't render anything in the React tree\n  return null;\n}","import { \n  instrument,\n  onCommitFiberRoot,\n  traverseFiber,\n  isHostFiber,\n  getNearestHostFiber,\n  traverseRenderedFibers,\n  secure,\n  type Fiber \n} from 'bippy';\nimport { reactDetector } from '../utils/react-detector';\n\nexport interface SourceLocation {\n  fileName?: string;\n  lineNumber?: number;\n  columnNumber?: number;\n}\n\nexport interface ComponentInfo {\n  id: string;\n  name: string;\n  props: any;\n  state: any;\n  hooks: any[];\n  parent?: ComponentInfo;\n  children: ComponentInfo[];\n  domElement?: HTMLElement;\n  sourceLocation?: SourceLocation;\n  fiberType: string;\n  isComponent: boolean;\n  depth: number;\n}\n\nexport type ComponentSelectionCallback = (component: ComponentInfo) => void;\n\nexport class ComponentInspector {\n  private fiberMap = new WeakMap<HTMLElement, Fiber>();\n  private componentMap = new Map<string, ComponentInfo>();\n  private selectionCallback?: ComponentSelectionCallback;\n  private isInstrumented = false;\n  private componentCounter = 0;\n  private instrumentationRetries = 0;\n  private maxRetries = 10;\n  \n  constructor() {\n    this.setupInstrumentationWithRetry();\n  }\n  \n  private setupInstrumentationWithRetry() {\n    // First check if React is already detected\n    const reactResult = reactDetector.getDetectionResult();\n    if (reactResult?.isReact) {\n      this.setupInstrumentation();\n    } else {\n      // Wait for React to be detected\n      reactDetector.onReactReady((result) => {\n        if (result.isReact) {\n          // Add a small delay to ensure React is fully initialized\n          setTimeout(() => this.setupInstrumentation(), 50);\n        }\n      });\n    }\n  }\n  \n  private setupInstrumentation() {\n    if (this.isInstrumented) return;\n    \n    try {\n      console.log('[ReactLLM] Setting up bippy instrumentation...');\n      \n      // Use bippy's secure wrapper to prevent crashes\n      const handlers = secure({\n        onCommitFiberRoot: (rendererID: any, root: any) => {\n          try {\n            this.processFiberRoot(root);\n          } catch (error) {\n            console.error('[ReactLLM] Error in fiber root processing:', error);\n          }\n        },\n      });\n      \n      // Instrument with the secure handlers\n      instrument(handlers);\n      \n      this.isInstrumented = true;\n      console.log('[ReactLLM] Bippy instrumentation initialized successfully');\n      \n      // Process any existing React roots\n      this.processExistingRoots();\n      \n    } catch (error) {\n      console.error('[ReactLLM] Failed to setup instrumentation:', error);\n      \n      // Retry setup if we haven't exceeded max retries\n      if (this.instrumentationRetries < this.maxRetries) {\n        this.instrumentationRetries++;\n        console.log(`[ReactLLM] Retrying instrumentation setup (${this.instrumentationRetries}/${this.maxRetries})`);\n        setTimeout(() => this.setupInstrumentation(), 100);\n      } else {\n        console.error('[ReactLLM] Max instrumentation retries exceeded, component inspection will be limited');\n      }\n    }\n  }\n  \n  private processExistingRoots() {\n    try {\n      // Look for existing React DevTools hook to find roots\n      const hook = (window as any).__REACT_DEVTOOLS_GLOBAL_HOOK__;\n      if (hook && hook.getFiberRoots) {\n        const roots = hook.getFiberRoots(1); // Get roots for renderer ID 1\n        roots.forEach((root: any) => {\n          this.processFiberRoot(root);\n        });\n      }\n    } catch (error) {\n      console.warn('[ReactLLM] Could not process existing roots:', error);\n    }\n  }\n  \n  private processFiberRoot(root: any) {\n    try {\n      // Use bippy's traverseRenderedFibers to only process fibers that have actually rendered\n      traverseRenderedFibers(root, (fiber: Fiber) => {\n        this.processFiber(fiber);\n      });\n    } catch (error) {\n      console.error('[ReactLLM] Error processing fiber root:', error);\n    }\n  }\n  \n  private processFiber(fiber: Fiber) {\n    try {\n      // Skip if this fiber doesn't represent a component or DOM element\n      if (!this.isRelevantFiber(fiber)) return;\n      \n      const info = this.extractComponentInfo(fiber);\n      \n      // Map DOM elements to fibers for click detection\n      if (info.domElement) {\n        this.fiberMap.set(info.domElement, fiber);\n        info.domElement.dataset.reactLlmId = info.id;\n      }\n      \n      this.componentMap.set(info.id, info);\n    } catch (error) {\n      console.error('[ReactLLM] Error processing fiber:', error);\n    }\n  }\n  \n  private isRelevantFiber(fiber: Fiber): boolean {\n    // Include function components, class components, and host components (DOM elements)\n    return fiber.type !== null || \n           fiber.elementType !== null || \n           typeof fiber.type === 'string' || // Host components (div, span, etc.)\n           typeof fiber.type === 'function'; // Function/class components\n  }\n  \n  private extractComponentInfo(fiber: Fiber): ComponentInfo {\n    const id = this.getFiberId(fiber);\n    const name = this.getDisplayName(fiber);\n    const isComponent = this.isComponentFiber(fiber);\n    \n    return {\n      id,\n      name,\n      props: fiber.memoizedProps || {},\n      state: fiber.memoizedState || null,\n      hooks: this.extractHooks(fiber),\n      parent: this.getParentComponent(fiber),\n      children: this.getChildComponents(fiber),\n      domElement: this.getDOMElement(fiber),\n      sourceLocation: this.getSourceLocation(fiber),\n      fiberType: this.getFiberType(fiber),\n      isComponent,\n      depth: this.getFiberDepth(fiber)\n    };\n  }\n  \n  private getFiberId(fiber: Fiber): string {\n    // Create a unique ID based on fiber properties\n    const key = fiber.key || '';\n    const index = fiber.index || 0;\n    const type = this.getDisplayName(fiber);\n    return `${type}-${key}-${index}-${++this.componentCounter}`;\n  }\n  \n  private getDisplayName(fiber: Fiber): string {\n    if (typeof fiber.type === 'string') {\n      return fiber.type; // Host component like 'div', 'span'\n    }\n    \n    if (typeof fiber.type === 'function') {\n      return fiber.type.displayName || fiber.type.name || 'Anonymous';\n    }\n    \n    if (fiber.elementType && typeof fiber.elementType === 'function') {\n      return fiber.elementType.displayName || fiber.elementType.name || 'Anonymous';\n    }\n    \n    // Handle different fiber types based on React fiber tags\n    switch (fiber.tag) {\n      case 0: return 'FunctionComponent';\n      case 1: return 'ClassComponent';\n      case 3: return 'HostRoot';\n      case 5: return 'HostComponent';\n      case 6: return 'HostText';\n      case 7: return 'Fragment';\n      case 8: return 'Mode';\n      case 9: return 'ContextConsumer';\n      case 10: return 'ContextProvider';\n      case 11: return 'ForwardRef';\n      case 12: return 'Profiler';\n      case 13: return 'SuspenseComponent';\n      case 14: return 'MemoComponent';\n      case 15: return 'SimpleMemoComponent';\n      case 16: return 'LazyComponent';\n      default: return `Unknown(${fiber.tag})`;\n    }\n  }\n  \n  private isComponentFiber(fiber: Fiber): boolean {\n    // Function components, class components, memo components, etc.\n    return fiber.tag === 0 || fiber.tag === 1 || fiber.tag === 14 || fiber.tag === 15;\n  }\n  \n  private getFiberType(fiber: Fiber): string {\n    const tagMap: Record<number, string> = {\n      0: 'FunctionComponent',\n      1: 'ClassComponent',\n      3: 'HostRoot',\n      5: 'HostComponent',\n      6: 'HostText',\n      7: 'Fragment',\n      8: 'Mode',\n      9: 'ContextConsumer',\n      10: 'ContextProvider',\n      11: 'ForwardRef',\n      12: 'Profiler',\n      13: 'SuspenseComponent',\n      14: 'MemoComponent',\n      15: 'SimpleMemoComponent',\n      16: 'LazyComponent'\n    };\n    \n    return tagMap[fiber.tag] || `Unknown(${fiber.tag})`;\n  }\n  \n  private extractHooks(fiber: Fiber): any[] {\n    const hooks: any[] = [];\n    \n    try {\n      let hook = fiber.memoizedState;\n      while (hook) {\n        hooks.push({\n          memoizedState: hook.memoizedState,\n          baseState: hook.baseState,\n          next: !!hook.next\n        });\n        hook = hook.next;\n      }\n    } catch (error) {\n      // Hooks extraction failed, return empty array\n    }\n    \n    return hooks;\n  }\n  \n  private getParentComponent(fiber: Fiber): ComponentInfo | undefined {\n    let parent = fiber.return;\n    while (parent) {\n      if (this.isComponentFiber(parent)) {\n        const parentId = this.getFiberId(parent);\n        return this.componentMap.get(parentId);\n      }\n      parent = parent.return;\n    }\n    return undefined;\n  }\n  \n  private getChildComponents(fiber: Fiber): ComponentInfo[] {\n    const children: ComponentInfo[] = [];\n    let child = fiber.child;\n    \n    while (child) {\n      if (this.isComponentFiber(child)) {\n        const childId = this.getFiberId(child);\n        const childInfo = this.componentMap.get(childId);\n        if (childInfo) {\n          children.push(childInfo);\n        }\n      }\n      child = child.sibling;\n    }\n    \n    return children;\n  }\n  \n  private getDOMElement(fiber: Fiber): HTMLElement | undefined {\n    // For host components, the stateNode is the DOM element\n    if (fiber.tag === 5 && fiber.stateNode instanceof HTMLElement) {\n      return fiber.stateNode;\n    }\n    \n    // For components, use bippy's getNearestHostFiber\n    try {\n      const hostFiber = getNearestHostFiber(fiber);\n      if (hostFiber && hostFiber.stateNode instanceof HTMLElement) {\n        return hostFiber.stateNode;\n      }\n    } catch (error) {\n      // Fall back to manual search\n      let current = fiber.child;\n      while (current) {\n        if (current.tag === 5 && current.stateNode instanceof HTMLElement) {\n          return current.stateNode;\n        }\n        current = current.child;\n      }\n    }\n    \n    return undefined;\n  }\n  \n  private getSourceLocation(fiber: Fiber): SourceLocation | undefined {\n    // Try to extract source location from fiber's debug info\n    if (fiber._debugSource) {\n      return {\n        fileName: fiber._debugSource.fileName,\n        lineNumber: fiber._debugSource.lineNumber,\n        columnNumber: fiber._debugSource.columnNumber\n      };\n    }\n    \n    return undefined;\n  }\n  \n  private getFiberDepth(fiber: Fiber): number {\n    let depth = 0;\n    let parent = fiber.return;\n    while (parent) {\n      depth++;\n      parent = parent.return;\n    }\n    return depth;\n  }\n  \n  getComponentAtPoint(x: number, y: number): ComponentInfo | null {\n    const element = document.elementFromPoint(x, y) as HTMLElement;\n    if (!element) return null;\n    \n    // Walk up DOM tree to find React component\n    let current: HTMLElement | null = element;\n    let bestMatch: ComponentInfo | null = null;\n    \n    while (current) {\n      // Check if this element has a React fiber\n      const fiber = this.fiberMap.get(current);\n      if (fiber) {\n        const id = this.getFiberId(fiber);\n        const component = this.componentMap.get(id);\n        if (component) {\n          // Prefer actual React components over host components\n          if (component.isComponent) {\n            return component;\n          } else if (!bestMatch) {\n            bestMatch = component;\n          }\n        }\n      }\n      \n      // Also check for React-LLM data attributes\n      const reactLlmId = current.dataset.reactLlmId;\n      if (reactLlmId) {\n        const component = this.componentMap.get(reactLlmId);\n        if (component && component.isComponent) {\n          return component;\n        }\n      }\n      \n      // Check for React fiber keys directly on the element\n      const reactFiberKey = Object.keys(current).find(key => \n        key.startsWith('__reactInternalInstance') || \n        key.startsWith('__reactFiber')\n      );\n      \n      if (reactFiberKey) {\n        const fiber = (current as any)[reactFiberKey];\n        if (fiber) {\n          const component = this.findComponentFromFiber(fiber);\n          if (component) {\n            return component;\n          }\n        }\n      }\n      \n      current = current.parentElement;\n    }\n    \n    return bestMatch;\n  }\n  \n  private findComponentFromFiber(fiber: Fiber): ComponentInfo | null {\n    // Walk up the fiber tree to find a component\n    let current = fiber;\n    while (current) {\n      if (this.isComponentFiber(current)) {\n        const id = this.getFiberId(current);\n        const component = this.componentMap.get(id);\n        if (component) {\n          return component;\n        }\n      }\n      current = current.return;\n    }\n    return null;\n  }\n  \n  getComponentById(id: string): ComponentInfo | null {\n    return this.componentMap.get(id) || null;\n  }\n  \n  getAllComponents(): ComponentInfo[] {\n    return Array.from(this.componentMap.values())\n      .filter(comp => comp.isComponent)\n      .sort((a, b) => a.depth - b.depth);\n  }\n  \n  getComponentTree(): ComponentInfo[] {\n    const components = this.getAllComponents();\n    return components.filter(comp => !comp.parent);\n  }\n  \n  selectComponent(component: ComponentInfo) {\n    if (this.selectionCallback) {\n      this.selectionCallback(component);\n    }\n  }\n  \n  onSelection(callback: ComponentSelectionCallback) {\n    this.selectionCallback = callback;\n  }\n  \n  highlightComponent(component: ComponentInfo) {\n    if (component.domElement) {\n      component.domElement.style.outline = '2px solid #007acc';\n      component.domElement.style.outlineOffset = '2px';\n    }\n  }\n  \n  unhighlightComponent(component: ComponentInfo) {\n    if (component.domElement) {\n      component.domElement.style.outline = '';\n      component.domElement.style.outlineOffset = '';\n    }\n  }\n  \n  isInstrumentationReady(): boolean {\n    return this.isInstrumented;\n  }\n}","/**\n * React Detection and Early Instrumentation Utility\n * \n * This module detects React presence and initializes bippy instrumentation\n * before any React components render.\n */\n\nexport interface ReactDetectionResult {\n  isReact: boolean;\n  version?: string;\n  devtools?: boolean;\n  fiberRoot?: any;\n  rendererID?: number;\n}\n\nexport type ReactReadyCallback = (result: ReactDetectionResult) => void;\n\nclass ReactDetector {\n  private callbacks: ReactReadyCallback[] = [];\n  private detectionResult: ReactDetectionResult | null = null;\n  private isDetecting = false;\n  private maxRetries = 50; // 5 seconds with 100ms intervals\n  private retryCount = 0;\n\n  /**\n   * Add a callback to be called when React is detected\n   */\n  onReactReady(callback: ReactReadyCallback): void {\n    if (this.detectionResult) {\n      // React already detected, call immediately\n      callback(this.detectionResult);\n      return;\n    }\n    \n    this.callbacks.push(callback);\n    \n    // Start detection if not already running\n    if (!this.isDetecting) {\n      this.startDetection();\n    }\n  }\n\n  /**\n   * Start React detection process\n   */\n  private startDetection(): void {\n    this.isDetecting = true;\n    this.retryCount = 0;\n    \n    // Try immediate detection first\n    const result = this.detectReact();\n    if (result.isReact) {\n      this.onReactDetected(result);\n      return;\n    }\n    \n    // If not found, start polling\n    this.pollForReact();\n  }\n\n  /**\n   * Poll for React availability\n   */\n  private pollForReact(): void {\n    const poll = () => {\n      this.retryCount++;\n      \n      const result = this.detectReact();\n      if (result.isReact) {\n        this.onReactDetected(result);\n        return;\n      }\n      \n      // Continue polling if not exceeded max retries\n      if (this.retryCount < this.maxRetries) {\n        setTimeout(poll, 100);\n      } else {\n        console.warn('[ReactLLM] React not detected after 5 seconds, giving up');\n        this.onReactDetected({ isReact: false });\n      }\n    };\n    \n    setTimeout(poll, 100);\n  }\n\n  /**\n   * Called when React is detected (or detection failed)\n   */\n  private onReactDetected(result: ReactDetectionResult): void {\n    this.detectionResult = result;\n    this.isDetecting = false;\n    \n    // Notify all callbacks\n    this.callbacks.forEach(callback => {\n      try {\n        callback(result);\n      } catch (error) {\n        console.error('[ReactLLM] Error in React detection callback:', error);\n      }\n    });\n    \n    // Clear callbacks to prevent memory leaks\n    this.callbacks.length = 0;\n  }\n\n  /**\n   * Detect React in various ways\n   */\n  private detectReact(): ReactDetectionResult {\n    // Method 1: Check for React DevTools\n    const devtools = this.checkReactDevTools();\n    if (devtools.isReact) {\n      return devtools;\n    }\n    \n    // Method 2: Check for React on window\n    const windowReact = this.checkWindowReact();\n    if (windowReact.isReact) {\n      return windowReact;\n    }\n    \n    // Method 3: Check for React DOM containers\n    const domContainers = this.checkReactDOMContainers();\n    if (domContainers.isReact) {\n      return domContainers;\n    }\n    \n    // Method 4: Check for React fiber nodes in DOM\n    const fiberNodes = this.checkFiberNodes();\n    if (fiberNodes.isReact) {\n      return fiberNodes;\n    }\n    \n    return { isReact: false };\n  }\n\n  /**\n   * Check for React DevTools\n   */\n  private checkReactDevTools(): ReactDetectionResult {\n    try {\n      // React DevTools creates a global hook\n      const hook = (window as any).__REACT_DEVTOOLS_GLOBAL_HOOK__;\n      if (!hook) {\n        return { isReact: false };\n      }\n      \n      // Check if there are any React renderers\n      if (hook.renderers && hook.renderers.size > 0) {\n        const renderer = Array.from(hook.renderers.values())[0];\n        return {\n          isReact: true,\n          version: renderer?.version,\n          devtools: true,\n          rendererID: Array.from(hook.renderers.keys())[0]\n        };\n      }\n      \n      // DevTools hook exists but no renderers yet\n      return { isReact: false };\n    } catch (error) {\n      return { isReact: false };\n    }\n  }\n\n  /**\n   * Check for React on window object\n   */\n  private checkWindowReact(): ReactDetectionResult {\n    try {\n      const win = window as any;\n      \n      // Check common React globals\n      const reactSources = [\n        win.React,\n        win.ReactDOM,\n        win.__webpack_require__?.cache // Webpack bundles\n      ];\n      \n      for (const source of reactSources) {\n        if (source && this.isReactLike(source)) {\n          return {\n            isReact: true,\n            version: source.version || 'unknown'\n          };\n        }\n      }\n      \n      return { isReact: false };\n    } catch (error) {\n      return { isReact: false };\n    }\n  }\n\n  /**\n   * Check for React DOM containers with fiber roots\n   */\n  private checkReactDOMContainers(): ReactDetectionResult {\n    try {\n      const containers = document.querySelectorAll('[data-reactroot], #root, #app, [id*=\"react\"], [class*=\"react\"]');\n      \n      for (const container of containers) {\n        const fiberRoot = this.getFiberRoot(container as HTMLElement);\n        if (fiberRoot) {\n          return {\n            isReact: true,\n            fiberRoot,\n            version: this.extractReactVersion(fiberRoot)\n          };\n        }\n      }\n      \n      return { isReact: false };\n    } catch (error) {\n      return { isReact: false };\n    }\n  }\n\n  /**\n   * Check for React fiber nodes anywhere in the DOM\n   */\n  private checkFiberNodes(): ReactDetectionResult {\n    try {\n      // Look for elements with React fiber properties\n      const walker = document.createTreeWalker(\n        document.documentElement,\n        NodeFilter.SHOW_ELEMENT,\n        {\n          acceptNode: (node) => {\n            const element = node as HTMLElement;\n            if (this.hasFiberProperties(element)) {\n              return NodeFilter.FILTER_ACCEPT;\n            }\n            return NodeFilter.FILTER_SKIP;\n          }\n        }\n      );\n      \n      let node;\n      while (node = walker.nextNode()) {\n        const fiberRoot = this.getFiberRoot(node as HTMLElement);\n        if (fiberRoot) {\n          return {\n            isReact: true,\n            fiberRoot,\n            version: this.extractReactVersion(fiberRoot)\n          };\n        }\n      }\n      \n      return { isReact: false };\n    } catch (error) {\n      return { isReact: false };\n    }\n  }\n\n  /**\n   * Check if an object looks like React\n   */\n  private isReactLike(obj: any): boolean {\n    return obj && (\n      (obj.createElement && obj.Component) ||\n      (obj.render && obj.unmountComponentAtNode) ||\n      obj.version || \n      obj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n    );\n  }\n\n  /**\n   * Get fiber root from a DOM element\n   */\n  private getFiberRoot(element: HTMLElement): any {\n    // React 18+\n    if ((element as any)._reactInternalInstance) {\n      return (element as any)._reactInternalInstance;\n    }\n    \n    // React 16+\n    const fiberKey = Object.keys(element).find(key => \n      key.startsWith('__reactInternalInstance') || \n      key.startsWith('__reactFiber')\n    );\n    \n    if (fiberKey) {\n      return (element as any)[fiberKey];\n    }\n    \n    // Check container's _reactRootContainer (React 16/17)\n    if ((element as any)._reactRootContainer) {\n      return (element as any)._reactRootContainer;\n    }\n    \n    // Check for React 18 root\n    if ((element as any)._reactInternals) {\n      return (element as any)._reactInternals;\n    }\n    \n    return null;\n  }\n\n  /**\n   * Check if element has fiber properties\n   */\n  private hasFiberProperties(element: HTMLElement): boolean {\n    const keys = Object.keys(element);\n    return keys.some(key => \n      key.startsWith('__reactInternalInstance') || \n      key.startsWith('__reactFiber') ||\n      key === '_reactInternalInstance' ||\n      key === '_reactInternals'\n    );\n  }\n\n  /**\n   * Extract React version from fiber root\n   */\n  private extractReactVersion(fiberRoot: any): string {\n    try {\n      // Try various ways to get the version\n      if (fiberRoot.version) return fiberRoot.version;\n      if (fiberRoot.current?.version) return fiberRoot.current.version;\n      if (fiberRoot._internalRoot?.version) return fiberRoot._internalRoot.version;\n      \n      // Fallback: detect version by fiber structure\n      if (fiberRoot.current?.mode !== undefined) {\n        return '16+';\n      }\n      \n      return 'unknown';\n    } catch (error) {\n      return 'unknown';\n    }\n  }\n\n  /**\n   * Get the current detection result\n   */\n  getDetectionResult(): ReactDetectionResult | null {\n    return this.detectionResult;\n  }\n\n  /**\n   * Force a new detection\n   */\n  forceDetection(): void {\n    this.detectionResult = null;\n    this.startDetection();\n  }\n}\n\n// Create singleton instance\nexport const reactDetector = new ReactDetector();\n\n/**\n * Utility function to wait for React to be ready\n */\nexport function waitForReact(timeout: number = 5000): Promise<ReactDetectionResult> {\n  return new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error('React detection timed out'));\n    }, timeout);\n    \n    reactDetector.onReactReady((result) => {\n      clearTimeout(timeoutId);\n      resolve(result);\n    });\n  });\n}\n\n/**\n * Check if React is currently detected\n */\nexport function isReactDetected(): boolean {\n  const result = reactDetector.getDetectionResult();\n  return result?.isReact ?? false;\n}","/** @jsx h */\nimport { h } from 'preact';\nimport { useState, useRef, useEffect } from 'preact/hooks';\nimport { signal } from '@preact/signals';\n\ninterface ContextOption {\n  id: string;\n  type: 'console' | 'network' | 'performance' | 'dom' | 'components';\n  label: string;\n  icon: string;\n  description: string;\n  filter?: Record<string, any>;\n}\n\nconst contextOptions: ContextOption[] = [\n  {\n    id: 'console-all',\n    type: 'console',\n    label: '@console',\n    icon: 'ðŸ“‹',\n    description: 'All console logs',\n  },\n  {\n    id: 'console-errors',\n    type: 'console',\n    label: '@errors',\n    icon: 'ðŸš¨',\n    description: 'Console errors only',\n    filter: { level: 'error' },\n  },\n  {\n    id: 'network-all',\n    type: 'network',\n    label: '@network',\n    icon: 'ðŸŒ',\n    description: 'All network requests',\n  },\n  {\n    id: 'network-failed',\n    type: 'network',\n    label: '@failed-requests',\n    icon: 'âŒ',\n    description: 'Failed network requests',\n    filter: { status: 'failed' },\n  },\n  {\n    id: 'performance',\n    type: 'performance',\n    label: '@performance',\n    icon: 'âš¡',\n    description: 'Performance metrics',\n  },\n  {\n    id: 'dom-changes',\n    type: 'dom',\n    label: '@dom-changes',\n    icon: 'ðŸ”„',\n    description: 'Recent DOM mutations',\n  },\n  {\n    id: 'components',\n    type: 'components',\n    label: '@components',\n    icon: 'ðŸ§©',\n    description: 'Selected React components',\n  },\n];\n\ninterface Props {\n  onSelect: (context: ContextOption | null) => void;\n  position: { x: number; y: number };\n  searchTerm: string;\n}\n\nexport const ContextSelector = ({ onSelect, position, searchTerm }: Props) => {\n  const [filteredOptions, setFilteredOptions] = useState(contextOptions);\n  const selectedIndex = signal(0);\n  \n  useEffect(() => {\n    const filtered = contextOptions.filter(option =>\n      option.label.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      option.description.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n    setFilteredOptions(filtered);\n    selectedIndex.value = 0;\n  }, [searchTerm]);\n  \n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          selectedIndex.value = Math.min(\n            selectedIndex.value + 1,\n            filteredOptions.length - 1\n          );\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          selectedIndex.value = Math.max(selectedIndex.value - 1, 0);\n          break;\n        case 'Enter':\n          e.preventDefault();\n          if (filteredOptions[selectedIndex.value]) {\n            onSelect(filteredOptions[selectedIndex.value]);\n          }\n          break;\n        case 'Escape':\n          e.preventDefault();\n          onSelect(null);\n          break;\n      }\n    };\n    \n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [filteredOptions, onSelect]);\n  \n  return (\n    <div\n      className=\"context-selector\"\n      style={{\n        position: 'absolute',\n        left: `${position.x}px`,\n        top: `${position.y}px`,\n        transform: 'translateY(-100%)',\n      }}\n    >\n      <div className=\"context-options\">\n        {filteredOptions.map((option, index) => (\n          <div\n            key={option.id}\n            className={`context-option ${index === selectedIndex.value ? 'selected' : ''}`}\n            onClick={() => onSelect(option)}\n            onMouseEnter={() => selectedIndex.value = index}\n          >\n            <span className=\"context-icon\">{option.icon}</span>\n            <div className=\"context-info\">\n              <div className=\"context-label\">{option.label}</div>\n              <div className=\"context-description\">{option.description}</div>\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      <style>{`\n        #react-llm-context-portal .context-selector {\n          background: rgba(0, 0, 0, 0.95);\n          backdrop-filter: blur(20px) saturate(180%);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n          box-shadow: \n            0 20px 40px rgba(0, 0, 0, 0.4),\n            0 8px 16px rgba(0, 0, 0, 0.3),\n            inset 0 1px 0 rgba(255, 255, 255, 0.1);\n          max-width: 320px;\n          overflow: hidden;\n          z-index: 10000;\n          animation: dropdownEntrance 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n          transform-origin: bottom left;\n        }\n        \n        #react-llm-context-portal .context-options {\n          max-height: 240px;\n          overflow-y: auto;\n          padding: 4px;\n        }\n        \n        #react-llm-context-portal .context-options::-webkit-scrollbar {\n          width: 6px;\n        }\n        \n        #react-llm-context-portal .context-options::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        #react-llm-context-portal .context-options::-webkit-scrollbar-thumb {\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 3px;\n        }\n        \n        #react-llm-context-portal .context-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 10px 12px;\n          cursor: pointer;\n          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n          border-radius: 8px;\n          position: relative;\n          overflow: hidden;\n          margin: 2px 0;\n        }\n        \n        #react-llm-context-portal .context-option::before {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: linear-gradient(\n            90deg,\n            transparent,\n            rgba(69, 137, 255, 0.1),\n            transparent\n          );\n          transform: translateX(-100%);\n          transition: transform 0.6s;\n        }\n        \n        #react-llm-context-portal .context-option:hover::before,\n        #react-llm-context-portal .context-option.selected::before {\n          transform: translateX(100%);\n        }\n        \n        #react-llm-context-portal .context-option:hover,\n        #react-llm-context-portal .context-option.selected {\n          background: rgba(255, 255, 255, 0.08);\n          transform: translateX(4px);\n        }\n        \n        #react-llm-context-portal .context-option.selected {\n          box-shadow: \n            0 0 0 1px rgba(69, 137, 255, 0.3),\n            0 2px 8px rgba(69, 137, 255, 0.1);\n        }\n        \n        #react-llm-context-portal .context-icon {\n          font-size: 20px;\n          width: 28px;\n          height: 28px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: rgba(255, 255, 255, 0.05);\n          border-radius: 6px;\n          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        #react-llm-context-portal .context-option:hover .context-icon {\n          transform: scale(1.1) rotate(5deg);\n          background: rgba(255, 255, 255, 0.1);\n        }\n        \n        #react-llm-context-portal .context-info {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        #react-llm-context-portal .context-label {\n          font-weight: 500;\n          color: rgba(255, 255, 255, 0.95);\n          font-family: 'TX02Mono-Regular', monospace;\n          font-size: 14px;\n          transition: color 0.2s;\n        }\n        \n        #react-llm-context-portal .context-option:hover .context-label {\n          color: rgba(100, 200, 255, 0.9);\n        }\n        \n        #react-llm-context-portal .context-description {\n          font-size: 12px;\n          color: rgba(255, 255, 255, 0.6);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          margin-top: 2px;\n        }\n        \n        @keyframes dropdownEntrance {\n          from {\n            opacity: 0;\n            transform: translateY(-8px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","// Simple EventEmitter implementation for browser compatibility\nexport class EventEmitter {\n  private events: Map<string, Array<(...args: any[]) => void>> = new Map();\n\n  on(event: string, listener: (...args: any[]) => void): this {\n    if (!this.events.has(event)) {\n      this.events.set(event, []);\n    }\n    this.events.get(event)!.push(listener);\n    return this;\n  }\n\n  once(event: string, listener: (...args: any[]) => void): this {\n    const onceWrapper = (...args: any[]) => {\n      this.removeListener(event, onceWrapper);\n      listener(...args);\n    };\n    this.on(event, onceWrapper);\n    return this;\n  }\n\n  emit(event: string, ...args: any[]): boolean {\n    const listeners = this.events.get(event);\n    if (!listeners || listeners.length === 0) {\n      return false;\n    }\n    listeners.forEach(listener => listener(...args));\n    return true;\n  }\n\n  removeListener(event: string, listener: (...args: any[]) => void): this {\n    const listeners = this.events.get(event);\n    if (!listeners) return this;\n    \n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n    return this;\n  }\n\n  removeAllListeners(event?: string): this {\n    if (event) {\n      this.events.delete(event);\n    } else {\n      this.events.clear();\n    }\n    return this;\n  }\n}","import { EventEmitter } from '../utils/event-emitter';\n\nexport interface OpenRouterConfig {\n  apiKey: string;\n  siteUrl?: string;\n  siteName?: string;\n}\n\nexport interface Model {\n  id: string;\n  name: string;\n  provider: string;\n  contextLength: number;\n  pricing: {\n    prompt: number;\n    completion: number;\n  };\n  description?: string;\n  architectures?: {\n    instruct: string;\n    modality: string;\n  };\n  top_provider?: {\n    max_completion_tokens: number;\n    is_moderated: boolean;\n  };\n}\n\nexport interface Message {\n  role: 'system' | 'user' | 'assistant';\n  content: string;\n}\n\nexport interface ChatOptions {\n  model?: string;\n  temperature?: number;\n  maxTokens?: number;\n  siteUrl?: string;\n  siteName?: string;\n}\n\nexport interface CostEstimate {\n  promptTokens: number;\n  completionTokens: number;\n  totalCost: number;\n}\n\nexport interface Usage {\n  prompt_tokens: number;\n  completion_tokens: number;\n  total_tokens: number;\n}\n\n/**\n * Production-ready OpenRouter client with comprehensive error handling and model management\n */\nexport class OpenRouterClient extends EventEmitter {\n  private apiKey: string;\n  private baseUrl = 'https://openrouter.ai/api/v1';\n  private models: Model[] = [];\n  private siteUrl?: string;\n  private siteName?: string;\n  private isInitialized = false;\n  \n  constructor(config: OpenRouterConfig) {\n    super();\n    this.apiKey = config.apiKey;\n    this.siteUrl = config.siteUrl;\n    this.siteName = config.siteName;\n    this.initialize();\n  }\n  \n  private async initialize() {\n    try {\n      await this.fetchModels();\n      this.isInitialized = true;\n      this.emit('ready');\n    } catch (error) {\n      console.error('Failed to initialize OpenRouter client:', error);\n      // Try to load from cache as fallback\n      const cached = localStorage.getItem('openrouter_models');\n      if (cached) {\n        try {\n          const { models } = JSON.parse(cached);\n          this.models = models;\n          this.isInitialized = true;\n          this.emit('ready');\n        } catch (parseError) {\n          console.error('Failed to load cached models:', parseError);\n          this.emit('error', error);\n        }\n      } else {\n        this.emit('error', error);\n      }\n    }\n  }\n  \n  async fetchModels(): Promise<Model[]> {\n    try {\n      const response = await fetch(`${this.baseUrl}/models`, {\n        headers: {\n          'Authorization': `Bearer ${this.apiKey}`,\n          'Content-Type': 'application/json',\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Failed to fetch models: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      this.models = data.data?.map(this.parseModel) || [];\n      \n      // Cache models with timestamp\n      localStorage.setItem('openrouter_models', JSON.stringify({\n        models: this.models,\n        timestamp: Date.now()\n      }));\n      \n      this.emit('modelsUpdated', this.models);\n      return this.models;\n    } catch (error) {\n      console.error('Failed to fetch models from OpenRouter:', error);\n      throw error;\n    }\n  }\n  \n  private parseModel(model: any): Model {\n    return {\n      id: model.id,\n      name: model.name || model.id,\n      provider: model.id.split('/')[0] || 'unknown',\n      contextLength: model.context_length || 4096,\n      pricing: {\n        prompt: parseFloat(model.pricing?.prompt || '0'),\n        completion: parseFloat(model.pricing?.completion || '0')\n      },\n      architectures: model.architecture,\n      top_provider: model.top_provider\n    };\n  }\n  \n  async getLatestModels(): Promise<Model[]> {\n    // Check cache first (refresh every hour)\n    const cached = localStorage.getItem('openrouter_models');\n    if (cached) {\n      try {\n        const { models, timestamp } = JSON.parse(cached);\n        if (Date.now() - timestamp < 3600000) { // 1 hour\n          this.models = models;\n          return models;\n        }\n      } catch (e) {\n        console.warn('Invalid cached models data:', e);\n      }\n    }\n    \n    // Fetch fresh model list\n    return this.fetchModels();\n  }\n  \n  async *chat(\n    messages: Message[], \n    options: ChatOptions = {}\n  ): AsyncGenerator<string, Usage | undefined> {\n    if (!this.isInitialized) {\n      throw new Error('OpenRouter client not initialized. Please wait for initialization.');\n    }\n    \n    if (!options.model) {\n      throw new Error('Model must be specified');\n    }\n\n    const headers: Record<string, string> = {\n      'Authorization': `Bearer ${this.apiKey}`,\n      'Content-Type': 'application/json',\n    };\n\n    // Add optional headers for OpenRouter leaderboard\n    if (options.siteUrl || this.siteUrl) {\n      headers['HTTP-Referer'] = options.siteUrl || this.siteUrl!;\n    }\n    if (options.siteName || this.siteName) {\n      headers['X-Title'] = options.siteName || this.siteName!;\n    }\n\n    const response = await fetch(`${this.baseUrl}/chat/completions`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({\n        model: options.model,\n        messages,\n        stream: true,\n        temperature: options.temperature || 0.7,\n        max_tokens: options.maxTokens || 4096,\n        stream_options: {\n          include_usage: true\n        }\n      }),\n    });\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`OpenRouter API error: ${response.status} ${response.statusText} - ${errorText}`);\n    }\n\n    if (!response.body) {\n      throw new Error('No response body received');\n    }\n\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder();\n    let usage: Usage | undefined;\n    \n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        \n        const chunk = decoder.decode(value, { stream: true });\n        const lines = chunk.split('\\n').filter(line => line.trim());\n        \n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = line.slice(6);\n            if (data === '[DONE]') continue;\n            \n            try {\n              const parsed = JSON.parse(data);\n              \n              // Check for usage information\n              if (parsed.usage) {\n                usage = parsed.usage;\n              }\n              \n              const content = parsed.choices?.[0]?.delta?.content;\n              if (content) {\n                yield content;\n              }\n            } catch (e) {\n              console.warn('Failed to parse streaming chunk:', e, 'Data:', data);\n            }\n          }\n        }\n      }\n      \n      return usage;\n    } finally {\n      reader.releaseLock();\n    }\n  }\n  \n  async completeChat(\n    messages: Message[], \n    options: ChatOptions = {}\n  ): Promise<{ content: string; usage?: Usage }> {\n    if (!this.isInitialized) {\n      throw new Error('OpenRouter client not initialized. Please wait for initialization.');\n    }\n    \n    if (!options.model) {\n      throw new Error('Model must be specified');\n    }\n\n    const headers: Record<string, string> = {\n      'Authorization': `Bearer ${this.apiKey}`,\n      'Content-Type': 'application/json',\n    };\n\n    // Add optional headers for OpenRouter leaderboard\n    if (options.siteUrl || this.siteUrl) {\n      headers['HTTP-Referer'] = options.siteUrl || this.siteUrl!;\n    }\n    if (options.siteName || this.siteName) {\n      headers['X-Title'] = options.siteName || this.siteName!;\n    }\n\n    const response = await fetch(`${this.baseUrl}/chat/completions`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({\n        model: options.model,\n        messages,\n        stream: false,\n        temperature: options.temperature || 0.7,\n        max_tokens: options.maxTokens || 4096,\n      }),\n    });\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`OpenRouter API error: ${response.status} ${response.statusText} - ${errorText}`);\n    }\n\n    const data = await response.json();\n    return {\n      content: data.choices[0].message.content,\n      usage: data.usage\n    };\n  }\n  \n  estimateCost(messages: Message[], model: string): CostEstimate {\n    const modelInfo = this.models.find(m => m.id === model);\n    if (!modelInfo) {\n      throw new Error(`Model ${model} not found`);\n    }\n    \n    const tokens = this.countTokens(messages);\n    return {\n      promptTokens: tokens.prompt,\n      completionTokens: tokens.completion,\n      totalCost: (\n        tokens.prompt * modelInfo.pricing.prompt +\n        tokens.completion * modelInfo.pricing.completion\n      ) / 1_000_000 // Convert to dollars\n    };\n  }\n  \n  /**\n   * Enhanced token counting with more accurate estimation\n   */\n  private countTokens(messages: Message[]): { prompt: number; completion: number } {\n    // More sophisticated token estimation\n    const text = messages.map(m => m.content).join(' ');\n    \n    // Better approximation: ~3.5 characters per token for English\n    // Account for JSON structure overhead\n    const baseTokens = Math.ceil(text.length / 3.5);\n    const structureOverhead = messages.length * 4; // ~4 tokens per message for role/structure\n    \n    const promptTokens = baseTokens + structureOverhead;\n    \n    // Estimate completion tokens based on typical response length (30% of prompt)\n    const completionTokens = Math.ceil(promptTokens * 0.3);\n    \n    return {\n      prompt: promptTokens,\n      completion: completionTokens\n    };\n  }\n  \n  getModels(): Model[] {\n    return this.models;\n  }\n  \n  getModel(id: string): Model | undefined {\n    return this.models.find(m => m.id === id);\n  }\n  \n  /**\n   * Get models filtered by provider\n   */\n  getModelsByProvider(provider: string): Model[] {\n    return this.models.filter(m => m.provider === provider);\n  }\n  \n  /**\n   * Get recommended models based on performance and cost\n   */\n  getRecommendedModels(): Model[] {\n    // Filter and sort models by quality metrics\n    return this.models\n      .filter(m => m.contextLength >= 8000) // Minimum context window\n      .sort((a, b) => {\n        // Custom scoring algorithm\n        const scoreA = this.calculateModelScore(a);\n        const scoreB = this.calculateModelScore(b);\n        return scoreB - scoreA;\n      })\n      .slice(0, 8); // Top 8 models\n  }\n  \n  private calculateModelScore(model: Model): number {\n    let score = model.contextLength / 1000; // Base score from context length\n    \n    // Bonus for known high-quality models\n    if (model.id.includes('claude-3-5-sonnet')) score += 100;\n    else if (model.id.includes('gpt-4o')) score += 90;\n    else if (model.id.includes('gemini-2.0-flash')) score += 85;\n    else if (model.id.includes('claude-3-opus')) score += 80;\n    else if (model.id.includes('gpt-4-turbo')) score += 75;\n    else if (model.id.includes('llama-3')) score += 70;\n    \n    // Penalty for very expensive models (unless they're premium)\n    if (model.pricing.prompt > 0.00005 && !model.id.includes('opus')) {\n      score -= 20;\n    }\n    \n    return score;\n  }\n  \n  /**\n   * Check if the client is ready to make requests\n   */\n  isReady(): boolean {\n    return this.isInitialized;\n  }\n  \n  /**\n   * Get available providers from current models\n   */\n  getAvailableProviders(): string[] {\n    const providers = new Set(this.models.map(m => m.provider));\n    return Array.from(providers).sort();\n  }\n}","import { OpenRouterClient, Model, Message, ChatOptions } from './openrouter-client';\n\nexport interface LLMProvider {\n  id: string;\n  name: string;\n  models: string[];\n  supportsStreaming: boolean;\n  requiresApiKey: boolean;\n}\n\nexport interface ComponentContext {\n  id: string;\n  name: string;\n  props: any;\n  state: any;\n  hooks: any[];\n  parent?: ComponentContext;\n  children: ComponentContext[];\n  sourceCode?: string;\n  language?: string;\n}\n\n/**\n * Enhanced LLM Hub with multi-provider support and smart model management\n */\nexport class LLMHub {\n  private providers = new Map<string, LLMProvider>();\n  private clients = new Map<string, OpenRouterClient>();\n  private activeProvider = 'openrouter';\n  private activeModel: string | null = null;\n  private modelsByProvider: Record<string, Model[]> = {};\n  private apiEndpoint?: string;\n  private modelsEndpoint?: string;\n  private isApiMode = false;\n  \n  constructor() {\n    this.registerProviders();\n  }\n  \n  private async registerProviders() {\n    // OpenRouter provides access to all models\n    this.providers.set('openrouter', {\n      id: 'openrouter',\n      name: 'OpenRouter (All Providers)',\n      models: [],\n      supportsStreaming: true,\n      requiresApiKey: true,\n    });\n  }\n  \n  async initializeProvider(providerId: string, apiKey: string, options?: { siteUrl?: string; siteName?: string }) {\n    if (providerId === 'openrouter') {\n      const client = new OpenRouterClient({\n        apiKey,\n        siteUrl: options?.siteUrl || window.location.href,\n        siteName: options?.siteName || document.title\n      });\n      \n      this.clients.set(providerId, client);\n      \n      // Wait for client to be ready\n      if (!client.isReady()) {\n        await new Promise((resolve, reject) => {\n          client.once('ready', resolve);\n          client.once('error', reject);\n          \n          // Add timeout\n          setTimeout(() => {\n            reject(new Error('OpenRouter client initialization timeout'));\n          }, 10000);\n        });\n      }\n      \n      try {\n        // Fetch latest models\n        const models = await client.getLatestModels();\n        \n        // Update provider with model list\n        const provider = this.providers.get('openrouter')!;\n        provider.models = models.map(m => m.id);\n        \n        // Group models by provider for easy filtering\n        this.modelsByProvider = models.reduce((acc, model) => {\n          const provider = model.id.split('/')[0];\n          if (!acc[provider]) acc[provider] = [];\n          acc[provider].push(model);\n          return acc;\n        }, {} as Record<string, Model[]>);\n        \n        // Set default model if none selected\n        if (!this.activeModel && models.length > 0) {\n          // Prefer Claude 3.5 Sonnet, GPT-4, or Gemini models\n          const preferredModel = models.find(m => \n            m.id.includes('claude-3-5-sonnet') || \n            m.id.includes('gpt-4o') || \n            m.id.includes('gemini-2.0-flash')\n          ) || models[0];\n          \n          this.activeModel = preferredModel.id;\n        }\n        \n        return true;\n      } catch (error) {\n        console.error('Failed to initialize OpenRouter provider:', error);\n        throw error;\n      }\n    }\n    \n    throw new Error(`Unknown provider: ${providerId}`);\n  }\n  \n  /**\n   * Initialize in demo mode - works without any API keys!\n   */\n  async initializeDemoMode() {\n    this.isApiMode = false;\n    this.activeProvider = 'demo';\n    this.activeModel = 'demo/gemini-2.0-flash';\n    \n    // Set up demo models\n    this.modelsByProvider = {\n      demo: [\n        {\n          id: 'demo/gemini-2.0-flash',\n          name: 'Gemini 2.0 Flash (Demo)',\n          provider: 'demo',\n          contextLength: 32768,\n          pricing: { prompt: 0, completion: 0 }\n        }\n      ]\n    };\n    \n    console.log('[LLMHub] Initialized in demo mode - no API keys required!');\n    return true;\n  }\n  \n  /**\n   * Initialize in API mode - uses server endpoints instead of direct API keys\n   */\n  async initializeApiMode(apiEndpoint: string, modelsEndpoint?: string) {\n    this.isApiMode = true;\n    this.apiEndpoint = apiEndpoint;\n    this.modelsEndpoint = modelsEndpoint || '/api/models';\n    \n    // Set active provider to api mode\n    this.activeProvider = 'api';\n    \n    // Fetch available models from the endpoint\n    if (modelsEndpoint) {\n      try {\n        const response = await fetch(modelsEndpoint);\n        if (response.ok) {\n          const data = await response.json();\n          const models = data.data || [];\n          \n          // Group models by provider\n          this.modelsByProvider = models.reduce((acc: Record<string, Model[]>, model: any) => {\n            const provider = model.id.split('/')[0];\n            if (!acc[provider]) acc[provider] = [];\n            acc[provider].push(model);\n            return acc;\n          }, {});\n          \n          // Set default model - prefer Gemini 2.0 Flash\n          if (!this.activeModel && models.length > 0) {\n            const preferredModel = models.find((m: any) => \n              m.id.includes('gemini-2.0-flash') ||\n              m.id.includes('gemini-2-flash')\n            ) || models.find((m: any) => \n              m.id.includes('claude-3-5-sonnet') || \n              m.id.includes('gpt-4o')\n            ) || models[0];\n            \n            this.activeModel = preferredModel.id;\n          }\n        }\n      } catch (error) {\n        console.error('Failed to fetch models:', error);\n      }\n    }\n    \n    return true;\n  }\n  \n  getProviders(): LLMProvider[] {\n    return Array.from(this.providers.values());\n  }\n  \n  getActiveProvider(): string {\n    return this.activeProvider;\n  }\n  \n  getModelsByProvider(provider: string): Model[] {\n    return this.modelsByProvider[provider] || [];\n  }\n  \n  getAvailableModels(): Model[] {\n    // In demo mode, return mock models\n    if (this.activeProvider === 'demo') {\n      return [{\n        id: 'demo/gemini-2.0-flash',\n        name: 'Gemini 2.0 Flash (Demo)',\n        provider: 'demo',\n        contextLength: 32768,\n        pricing: { prompt: 0, completion: 0 },\n        description: 'Demo mode - no API key required'\n      }];\n    }\n    \n    // Return all models from all providers\n    const allModels: Model[] = [];\n    Object.values(this.modelsByProvider).forEach(models => {\n      allModels.push(...models);\n    });\n    \n    return allModels;\n  }\n  \n  getAllModels(): Model[] {\n    const client = this.clients.get('openrouter');\n    return client ? client.getModels() : [];\n  }\n  \n  getRecommendedModels(): Model[] {\n    const allModels = this.getAllModels();\n    const recommendations: Model[] = [];\n    \n    // Get best model from each major provider\n    const providers = ['anthropic', 'openai', 'google', 'meta-llama', 'mistralai'];\n    \n    providers.forEach(provider => {\n      const providerModels = this.modelsByProvider[provider] || [];\n      if (providerModels.length > 0) {\n        // Sort by context length and capabilities, prefer newer models\n        const sorted = providerModels\n          .filter(m => m.contextLength >= 8000) // Filter out smaller context models\n          .sort((a, b) => {\n            // Prioritize specific good models\n            const aScore = this.getModelScore(a);\n            const bScore = this.getModelScore(b);\n            return bScore - aScore;\n          });\n        \n        if (sorted[0]) {\n          recommendations.push(sorted[0]);\n        }\n      }\n    });\n    \n    return recommendations;\n  }\n  \n  private getModelScore(model: Model): number {\n    let score = model.contextLength / 1000; // Base score from context length\n    \n    // Bonus for known good models\n    if (model.id.includes('claude-3-5-sonnet')) score += 100;\n    else if (model.id.includes('gpt-4o')) score += 90;\n    else if (model.id.includes('gemini-2.0-flash')) score += 85;\n    else if (model.id.includes('claude-3-opus')) score += 80;\n    else if (model.id.includes('gpt-4-turbo')) score += 75;\n    \n    // Penalty for very expensive models (unless they're premium)\n    if (model.pricing.prompt > 0.00005 && !model.id.includes('opus')) {\n      score -= 20;\n    }\n    \n    return score;\n  }\n  \n  setApiKey(provider: string, apiKey: string, options?: { siteUrl?: string; siteName?: string }) {\n    return this.initializeProvider(provider, apiKey, options);\n  }\n  \n  getActiveModel(): string | null {\n    return this.activeModel;\n  }\n  \n  setActiveModel(provider: string, model: string) {\n    this.activeProvider = provider;\n    this.activeModel = model;\n  }\n  \n  getClient(provider: string): OpenRouterClient | undefined {\n    return this.clients.get(provider);\n  }\n  \n  async *chat(\n    messages: Message[], \n    context?: ComponentContext\n  ): AsyncGenerator<string> {\n    // Demo mode - return helpful demo responses\n    if (this.activeProvider === 'demo') {\n      const demoResponses = [\n        \"ðŸ‘‹ Welcome to React LLM! I'm running in demo mode.\\n\\nTo enable full AI capabilities:\\n\\n1. **Option A**: Use your own API key\\n   ```javascript\\n   ReactLLM.init({\\n     providers: {\\n       openrouter: 'your-api-key'\\n     }\\n   });\\n   ```\\n\\n2. **Option B**: Use a server-side proxy\\n   ```javascript\\n   ReactLLM.init({\\n     apiEndpoint: '/api/chat'\\n   });\\n   ```\\n\\nI can see your React components and would love to help once configured!\",\n        \"I notice you have some React components on this page. Once you configure an API key, I can help you:\\n\\n- ðŸ” Analyze component structure\\n- âœï¸ Suggest improvements\\n- ðŸ› Debug issues\\n- ðŸ“ Generate documentation\\n- ðŸŽ¨ Refactor code\\n\\nReact LLM works on any website - just add the script tag!\",\n        \"Demo mode is limited, but here's what React LLM can do:\\n\\n- **Component Selection**: Click any component to select it\\n- **Context Aware**: I understand your component tree\\n- **Multi-Model**: Supports GPT-4, Claude, Gemini, and more\\n- **Browser Native**: No server required (with API keys)\\n\\nConfigure me to unlock these features!\"\n      ];\n      \n      const response = demoResponses[Math.floor(Math.random() * demoResponses.length)];\n      \n      // Simulate typing\n      for (const char of response) {\n        yield char;\n        await new Promise(resolve => setTimeout(resolve, 10));\n      }\n      return;\n    }\n    \n    // API mode - use endpoint\n    if (this.isApiMode && this.apiEndpoint) {\n      const enhancedMessages = this.enhanceWithContext(messages, context);\n      \n      const response = await fetch(this.apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          messages: enhancedMessages,\n          model: this.activeModel,\n          stream: true,\n        }),\n      });\n      \n      if (!response.ok) {\n        throw new Error(`API request failed: ${response.statusText}`);\n      }\n      \n      // Handle streaming response\n      const reader = response.body?.getReader();\n      if (!reader) throw new Error('No response body');\n      \n      const decoder = new TextDecoder();\n      let buffer = '';\n      \n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n        \n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split('\\n');\n        buffer = lines.pop() || '';\n        \n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = line.slice(6);\n            if (data === '[DONE]') continue;\n            \n            try {\n              const parsed = JSON.parse(data);\n              const content = parsed.choices?.[0]?.delta?.content;\n              if (content) yield content;\n            } catch (e) {\n              // Ignore parse errors\n            }\n          }\n        }\n      }\n      return;\n    }\n    \n    // Direct client mode\n    const client = this.clients.get(this.activeProvider);\n    if (!client) {\n      throw new Error('No API key set for provider');\n    }\n    \n    // Enhance messages with component context\n    const enhancedMessages = this.enhanceWithContext(messages, context);\n    \n    // Use active model or throw error\n    if (!this.activeModel) {\n      throw new Error('No model selected. Please choose a model first.');\n    }\n    \n    yield* client.chat(enhancedMessages, {\n      model: this.activeModel,\n      siteUrl: window.location.href,\n      siteName: document.title\n    });\n  }\n  \n  async completeChat(\n    messages: Message[],\n    context?: ComponentContext\n  ): Promise<string> {\n    // Demo mode\n    if (this.activeProvider === 'demo') {\n      return \"Welcome to React LLM! I'm running in demo mode. Configure an API key to unlock full AI capabilities.\";\n    }\n    \n    // API mode - use endpoint\n    if (this.isApiMode && this.apiEndpoint) {\n      const enhancedMessages = this.enhanceWithContext(messages, context);\n      \n      const response = await fetch(this.apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          messages: enhancedMessages,\n          model: this.activeModel,\n          stream: false,\n        }),\n      });\n      \n      if (!response.ok) {\n        throw new Error(`API request failed: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      return data.choices?.[0]?.message?.content || '';\n    }\n    \n    // Direct client mode\n    const client = this.clients.get(this.activeProvider);\n    if (!client) {\n      throw new Error('No API key set for provider');\n    }\n    \n    // Enhance messages with component context\n    const enhancedMessages = this.enhanceWithContext(messages, context);\n    \n    // Use active model or throw error\n    if (!this.activeModel) {\n      throw new Error('No model selected. Please choose a model first.');\n    }\n    \n    const result = await client.completeChat(enhancedMessages, {\n      model: this.activeModel,\n      siteUrl: window.location.href,\n      siteName: document.title\n    });\n    \n    return result.content;\n  }\n  \n  /**\n   * Enhanced context building with more sophisticated component analysis\n   */\n  private enhanceWithContext(\n    messages: Message[], \n    context?: ComponentContext\n  ): Message[] {\n    if (!context) return messages;\n    \n    const contextParts = [\n      `You are helping with a React component. Here's the context:`,\n      ``,\n      `Component: ${context.name}`,\n      `Type: ${this.getComponentType(context)}`,\n      `Props: ${this.formatProps(context.props)}`,\n      context.state ? `State: ${JSON.stringify(context.state, null, 2)}` : null,\n      context.hooks.length > 0 ? `Hooks: ${context.hooks.length} detected` : null,\n      context.parent ? `Parent: ${context.parent.name}` : null,\n      context.children.length > 0 ? `Children: ${context.children.map(c => c.name).join(', ')}` : null,\n      ``,\n      context.sourceCode ? `Source code:\\n\\`\\`\\`${context.language || 'jsx'}\\n${context.sourceCode}\\n\\`\\`\\`` : null,\n      ``,\n      `Please provide helpful guidance for working with this component. Consider its props, state, and relationships when providing suggestions.`\n    ].filter(Boolean).join('\\n');\n    \n    const systemMessage: Message = {\n      role: 'system',\n      content: contextParts\n    };\n    \n    return [systemMessage, ...messages];\n  }\n  \n  private getComponentType(context: ComponentContext): string {\n    if (context.hooks.length > 0) return 'Function Component (with hooks)';\n    if (context.state) return 'Class Component';\n    if (context.props && Object.keys(context.props).length > 0) return 'Function Component';\n    return 'Component';\n  }\n  \n  private formatProps(props: any): string {\n    if (!props || Object.keys(props).length === 0) {\n      return 'No props';\n    }\n    \n    const filteredProps = Object.entries(props)\n      .filter(([key]) => !key.startsWith('__') && key !== 'children')\n      .reduce((acc, [key, value]) => {\n        acc[key] = typeof value === 'function' ? '[Function]' : \n                  typeof value === 'object' && value !== null ? '[Object]' : \n                  value;\n        return acc;\n      }, {} as Record<string, any>);\n    \n    return Object.keys(filteredProps).length > 0 ? \n      JSON.stringify(filteredProps, null, 2) : \n      'No relevant props';\n  }\n  \n  isInitialized(): boolean {\n    return this.activeProvider === 'demo' || this.isApiMode || this.clients.size > 0;\n  }\n  \n  getAvailableProviders(): string[] {\n    return Array.from(this.clients.keys());\n  }\n  \n  /**\n   * Get cost estimate for a conversation\n   */\n  estimateCost(messages: Message[], context?: ComponentContext): any {\n    const client = this.clients.get(this.activeProvider);\n    if (!client || !this.activeModel) {\n      return null;\n    }\n    \n    const enhancedMessages = this.enhanceWithContext(messages, context);\n    return client.estimateCost(enhancedMessages, this.activeModel);\n  }\n}","import { signal, computed } from '@preact/signals';\n\nexport interface ConsoleEntry {\n  id: string;\n  timestamp: number;\n  level: 'log' | 'warn' | 'error' | 'info' | 'debug' | 'trace';\n  args: any[];\n  stack?: string;\n  source?: string;\n  formatted: string;\n}\n\nexport class ConsoleMonitor {\n  private entries = signal<ConsoleEntry[]>([]);\n  private maxEntries = 1000;\n  private originalMethods: Record<string, Function> = {};\n  private isMonitoring = false;\n  \n  // Computed signals for filtering\n  public logs = computed(() => \n    this.entries.value.filter(e => e.level === 'log')\n  );\n  \n  public errors = computed(() => \n    this.entries.value.filter(e => e.level === 'error')\n  );\n  \n  public warnings = computed(() => \n    this.entries.value.filter(e => e.level === 'warn')\n  );\n  \n  constructor() {\n    this.saveOriginalMethods();\n  }\n  \n  private saveOriginalMethods(): void {\n    ['log', 'warn', 'error', 'info', 'debug', 'trace'].forEach(method => {\n      this.originalMethods[method] = console[method as keyof Console];\n    });\n  }\n  \n  public start(): void {\n    if (this.isMonitoring) return;\n    \n    ['log', 'warn', 'error', 'info', 'debug', 'trace'].forEach(method => {\n      const original = this.originalMethods[method];\n      \n      (console as any)[method] = (...args: any[]) => {\n        // Call original method first to maintain normal console behavior\n        original.apply(console, args);\n        \n        // Capture entry with minimal overhead\n        try {\n          const entry: ConsoleEntry = {\n            id: `console-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            timestamp: Date.now(),\n            level: method as ConsoleEntry['level'],\n            args: this.cloneArgs(args),\n            stack: this.extractStack(),\n            source: this.extractSource(),\n            formatted: this.formatArgs(args),\n          };\n          \n          this.addEntry(entry);\n        } catch (error) {\n          // Silently fail to avoid infinite recursion\n        }\n      };\n    });\n    \n    this.isMonitoring = true;\n    console.info('[ReactLLM] Console monitoring started');\n  }\n  \n  public stop(): void {\n    if (!this.isMonitoring) return;\n    \n    // Restore original methods\n    Object.entries(this.originalMethods).forEach(([method, original]) => {\n      (console as any)[method] = original;\n    });\n    \n    this.isMonitoring = false;\n    console.info('[ReactLLM] Console monitoring stopped');\n  }\n  \n  private cloneArgs(args: any[]): any[] {\n    // Deep clone arguments to prevent mutations\n    try {\n      return args.map(arg => {\n        if (arg === null || arg === undefined) return arg;\n        if (typeof arg === 'function') return '[Function]';\n        if (arg instanceof Error) {\n          return {\n            name: arg.name,\n            message: arg.message,\n            stack: arg.stack,\n          };\n        }\n        if (arg instanceof HTMLElement) {\n          return {\n            tagName: arg.tagName,\n            id: arg.id,\n            className: arg.className,\n            innerHTML: arg.innerHTML.substring(0, 100) + '...',\n          };\n        }\n        \n        // Use structured clone for complex objects\n        return structuredClone(arg);\n      });\n    } catch (error) {\n      // Fallback for non-cloneable objects\n      return args.map(arg => {\n        try {\n          return JSON.parse(JSON.stringify(arg));\n        } catch {\n          return String(arg);\n        }\n      });\n    }\n  }\n  \n  private extractStack(): string {\n    const stack = new Error().stack || '';\n    // Remove first 3 lines (Error, this function, console override)\n    return stack.split('\\n').slice(3).join('\\n');\n  }\n  \n  private extractSource(): string {\n    const stack = this.extractStack();\n    const match = stack.match(/at\\s+(.+?)\\s+\\((.+?):(\\d+):(\\d+)\\)/);\n    \n    if (match) {\n      const [, functionName, file, line, column] = match;\n      return `${functionName} (${file}:${line}:${column})`;\n    }\n    \n    return 'Unknown source';\n  }\n  \n  private formatArgs(args: any[]): string {\n    return args.map(arg => {\n      if (typeof arg === 'string') return arg;\n      if (typeof arg === 'object') {\n        try {\n          return JSON.stringify(arg, null, 2);\n        } catch {\n          return String(arg);\n        }\n      }\n      return String(arg);\n    }).join(' ');\n  }\n  \n  private addEntry(entry: ConsoleEntry): void {\n    const current = this.entries.value;\n    const updated = [...current, entry];\n    \n    // Maintain max entries limit\n    if (updated.length > this.maxEntries) {\n      updated.splice(0, updated.length - this.maxEntries);\n    }\n    \n    this.entries.value = updated;\n  }\n  \n  public clear(): void {\n    this.entries.value = [];\n  }\n  \n  public getEntries(filter?: {\n    level?: ConsoleEntry['level'];\n    since?: number;\n    search?: string;\n  }): ConsoleEntry[] {\n    let results = this.entries.value;\n    \n    if (filter?.level) {\n      results = results.filter(e => e.level === filter.level);\n    }\n    \n    if (filter?.since) {\n      results = results.filter(e => e.timestamp > filter.since);\n    }\n    \n    if (filter?.search) {\n      const searchLower = filter.search.toLowerCase();\n      results = results.filter(e => \n        e.formatted.toLowerCase().includes(searchLower)\n      );\n    }\n    \n    return results;\n  }\n  \n  public exportToString(): string {\n    return this.entries.value\n      .map(entry => {\n        const time = new Date(entry.timestamp).toLocaleTimeString();\n        return `[${time}] [${entry.level.toUpperCase()}] ${entry.formatted}`;\n      })\n      .join('\\n');\n  }\n}","import { signal } from '@preact/signals';\n\nexport interface NetworkRequest {\n  id: string;\n  timestamp: number;\n  method: string;\n  url: string;\n  headers: Record<string, string>;\n  body?: any;\n  response?: NetworkResponse;\n  duration?: number;\n  status: 'pending' | 'completed' | 'failed';\n  error?: Error;\n  type: 'fetch' | 'xhr';\n}\n\nexport interface NetworkResponse {\n  status: number;\n  statusText: string;\n  headers: Record<string, string>;\n  body?: any;\n  size?: number;\n}\n\nexport class NetworkMonitor {\n  private requests = signal<NetworkRequest[]>([]);\n  private maxRequests = 500;\n  private isMonitoring = false;\n  \n  // Original methods\n  private originalFetch = window.fetch;\n  private originalXHROpen = XMLHttpRequest.prototype.open;\n  private originalXHRSend = XMLHttpRequest.prototype.send;\n  private originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n  \n  public start(): void {\n    if (this.isMonitoring) return;\n    \n    this.interceptFetch();\n    this.interceptXHR();\n    \n    this.isMonitoring = true;\n  }\n  \n  private interceptFetch(): void {\n    window.fetch = async (...args: Parameters<typeof fetch>) => {\n      const [input, init] = args;\n      const url = typeof input === 'string' ? input : (input as Request).url;\n      const method = init?.method || 'GET';\n      \n      const request: NetworkRequest = {\n        id: `fetch-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n        timestamp: Date.now(),\n        method,\n        url,\n        headers: this.extractHeaders(init?.headers),\n        body: await this.extractBody(init?.body),\n        status: 'pending',\n        type: 'fetch',\n      };\n      \n      this.addRequest(request);\n      \n      try {\n        const response = await this.originalFetch.apply(window, args);\n        const clonedResponse = response.clone();\n        \n        // Extract response data\n        const responseData: NetworkResponse = {\n          status: response.status,\n          statusText: response.statusText,\n          headers: this.extractResponseHeaders(response.headers),\n          body: await this.extractResponseBody(clonedResponse),\n          size: Number(response.headers.get('content-length')) || 0,\n        };\n        \n        // Update request\n        this.updateRequest(request.id, {\n          response: responseData,\n          duration: Date.now() - request.timestamp,\n          status: 'completed',\n        });\n        \n        return response;\n      } catch (error) {\n        this.updateRequest(request.id, {\n          error: error as Error,\n          duration: Date.now() - request.timestamp,\n          status: 'failed',\n        });\n        throw error;\n      }\n    };\n  }\n  \n  private interceptXHR(): void {\n    const self = this;\n    \n    // Override open\n    XMLHttpRequest.prototype.open = function(\n      method: string,\n      url: string | URL,\n      async?: boolean,\n      username?: string | null,\n      password?: string | null\n    ) {\n      const xhr = this as any;\n      \n      xhr._requestInfo = {\n        method,\n        url: url.toString(),\n        headers: {},\n      };\n      \n      return self.originalXHROpen.apply(this, arguments as any);\n    };\n    \n    // Override setRequestHeader\n    XMLHttpRequest.prototype.setRequestHeader = function(name: string, value: string) {\n      const xhr = this as any;\n      if (xhr._requestInfo) {\n        xhr._requestInfo.headers[name] = value;\n      }\n      \n      return self.originalXHRSetRequestHeader.apply(this, arguments as any);\n    };\n    \n    // Override send\n    XMLHttpRequest.prototype.send = function(body?: Document | XMLHttpRequestBodyInit | null) {\n      const xhr = this as any;\n      \n      if (xhr._requestInfo) {\n        const request: NetworkRequest = {\n          id: `xhr-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n          timestamp: Date.now(),\n          method: xhr._requestInfo.method,\n          url: xhr._requestInfo.url,\n          headers: xhr._requestInfo.headers,\n          body: self.extractXHRBody(body),\n          status: 'pending',\n          type: 'xhr',\n        };\n        \n        self.addRequest(request);\n        \n        // Add event listeners\n        xhr.addEventListener('load', () => {\n          const responseData: NetworkResponse = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n            headers: self.extractXHRResponseHeaders(xhr),\n            body: self.extractXHRResponseBody(xhr),\n          };\n          \n          self.updateRequest(request.id, {\n            response: responseData,\n            duration: Date.now() - request.timestamp,\n            status: 'completed',\n          });\n        });\n        \n        xhr.addEventListener('error', () => {\n          self.updateRequest(request.id, {\n            error: new Error('Network request failed'),\n            duration: Date.now() - request.timestamp,\n            status: 'failed',\n          });\n        });\n      }\n      \n      return self.originalXHRSend.apply(this, arguments as any);\n    };\n  }\n  \n  private extractHeaders(headers?: HeadersInit): Record<string, string> {\n    const result: Record<string, string> = {};\n    \n    if (!headers) return result;\n    \n    if (headers instanceof Headers) {\n      headers.forEach((value, key) => {\n        result[key] = value;\n      });\n    } else if (Array.isArray(headers)) {\n      headers.forEach(([key, value]) => {\n        result[key] = value;\n      });\n    } else {\n      Object.assign(result, headers);\n    }\n    \n    return result;\n  }\n  \n  private async extractBody(body?: BodyInit | null): Promise<any> {\n    if (!body) return undefined;\n    \n    if (typeof body === 'string') return body;\n    if (body instanceof FormData) {\n      const data: Record<string, any> = {};\n      body.forEach((value, key) => {\n        data[key] = value;\n      });\n      return data;\n    }\n    if (body instanceof Blob) {\n      return await body.text();\n    }\n    if (body instanceof ArrayBuffer) {\n      return new TextDecoder().decode(body);\n    }\n    \n    return String(body);\n  }\n  \n  private extractResponseHeaders(headers: Headers): Record<string, string> {\n    const result: Record<string, string> = {};\n    headers.forEach((value, key) => {\n      result[key] = value;\n    });\n    return result;\n  }\n  \n  private async extractResponseBody(response: Response): Promise<any> {\n    const contentType = response.headers.get('content-type') || '';\n    \n    try {\n      if (contentType.includes('application/json')) {\n        return await response.json();\n      } else if (contentType.includes('text/')) {\n        return await response.text();\n      } else {\n        // For binary data, just return size info\n        const blob = await response.blob();\n        return `[Binary data: ${blob.size} bytes]`;\n      }\n    } catch (error) {\n      return '[Failed to parse response body]';\n    }\n  }\n  \n  private extractXHRBody(body?: Document | XMLHttpRequestBodyInit | null): any {\n    if (!body) return undefined;\n    if (typeof body === 'string') return body;\n    if (body instanceof FormData) {\n      const data: Record<string, any> = {};\n      body.forEach((value, key) => {\n        data[key] = value;\n      });\n      return data;\n    }\n    return String(body);\n  }\n  \n  private extractXHRResponseHeaders(xhr: XMLHttpRequest): Record<string, string> {\n    const headers: Record<string, string> = {};\n    const headerString = xhr.getAllResponseHeaders();\n    \n    headerString.split('\\n').forEach(line => {\n      const match = line.match(/^(.+?):\\s*(.+)$/);\n      if (match) {\n        headers[match[1].trim()] = match[2].trim();\n      }\n    });\n    \n    return headers;\n  }\n  \n  private extractXHRResponseBody(xhr: XMLHttpRequest): any {\n    const contentType = xhr.getResponseHeader('content-type') || '';\n    \n    if (contentType.includes('application/json')) {\n      try {\n        return JSON.parse(xhr.responseText);\n      } catch {\n        return xhr.responseText;\n      }\n    }\n    \n    return xhr.responseText;\n  }\n  \n  private addRequest(request: NetworkRequest): void {\n    const current = this.requests.value;\n    const updated = [...current, request];\n    \n    if (updated.length > this.maxRequests) {\n      updated.splice(0, updated.length - this.maxRequests);\n    }\n    \n    this.requests.value = updated;\n  }\n  \n  private updateRequest(id: string, updates: Partial<NetworkRequest>): void {\n    this.requests.value = this.requests.value.map(req =>\n      req.id === id ? { ...req, ...updates } : req\n    );\n  }\n  \n  public getRequests(filter?: {\n    status?: NetworkRequest['status'];\n    method?: string;\n    urlPattern?: string;\n    since?: number;\n  }): NetworkRequest[] {\n    let results = this.requests.value;\n    \n    if (filter?.status) {\n      results = results.filter(r => r.status === filter.status);\n    }\n    \n    if (filter?.method) {\n      results = results.filter(r => r.method === filter.method);\n    }\n    \n    if (filter?.urlPattern) {\n      const pattern = new RegExp(filter.urlPattern);\n      results = results.filter(r => pattern.test(r.url));\n    }\n    \n    if (filter?.since) {\n      results = results.filter(r => r.timestamp > filter.since);\n    }\n    \n    return results;\n  }\n  \n  public exportAsHAR(): any {\n    return {\n      log: {\n        version: '1.2',\n        creator: {\n          name: 'React LLM',\n          version: '1.0',\n        },\n        entries: this.requests.value.map(req => ({\n          startedDateTime: new Date(req.timestamp).toISOString(),\n          time: req.duration || 0,\n          request: {\n            method: req.method,\n            url: req.url,\n            headers: Object.entries(req.headers).map(([name, value]) => ({ name, value })),\n            postData: req.body ? {\n              mimeType: 'application/json',\n              text: JSON.stringify(req.body),\n            } : undefined,\n          },\n          response: req.response ? {\n            status: req.response.status,\n            statusText: req.response.statusText,\n            headers: Object.entries(req.response.headers).map(([name, value]) => ({ name, value })),\n            content: {\n              size: req.response.size || 0,\n              mimeType: req.response.headers['content-type'] || 'text/plain',\n              text: JSON.stringify(req.response.body),\n            },\n          } : undefined,\n        })),\n      },\n    };\n  }\n  \n  public stop(): void {\n    if (!this.isMonitoring) return;\n    \n    window.fetch = this.originalFetch;\n    XMLHttpRequest.prototype.open = this.originalXHROpen;\n    XMLHttpRequest.prototype.send = this.originalXHRSend;\n    XMLHttpRequest.prototype.setRequestHeader = this.originalXHRSetRequestHeader;\n    \n    this.isMonitoring = false;\n  }\n}","import { signal } from '@preact/signals';\n\nexport interface PerformanceMetric {\n  id: string;\n  timestamp: number;\n  type: 'navigation' | 'resource' | 'paint' | 'measure' | 'mark' | 'lcp' | 'fid' | 'cls';\n  name: string;\n  value: number;\n  metadata?: Record<string, any>;\n}\n\nexport class PerformanceMonitor {\n  private metrics = signal<PerformanceMetric[]>([]);\n  private observers: PerformanceObserver[] = [];\n  private isMonitoring = false;\n  \n  public start(): void {\n    if (this.isMonitoring) return;\n    \n    // Navigation timing\n    this.observeNavigationTiming();\n    \n    // Resource timing\n    this.observeResourceTiming();\n    \n    // Paint timing\n    this.observePaintTiming();\n    \n    // Largest Contentful Paint\n    this.observeLCP();\n    \n    // First Input Delay\n    this.observeFID();\n    \n    // Cumulative Layout Shift\n    this.observeCLS();\n    \n    // User marks and measures\n    this.observeUserTiming();\n    \n    this.isMonitoring = true;\n  }\n  \n  private observeNavigationTiming(): void {\n    const navEntries = performance.getEntriesByType('navigation');\n    navEntries.forEach(entry => {\n      const nav = entry as PerformanceNavigationTiming;\n      \n      this.addMetric({\n        type: 'navigation',\n        name: 'page-load',\n        value: nav.loadEventEnd - nav.fetchStart,\n        metadata: {\n          dns: nav.domainLookupEnd - nav.domainLookupStart,\n          tcp: nav.connectEnd - nav.connectStart,\n          ttfb: nav.responseStart - nav.fetchStart,\n          domContentLoaded: nav.domContentLoadedEventEnd - nav.fetchStart,\n          domInteractive: nav.domInteractive - nav.fetchStart,\n        },\n      });\n    });\n  }\n  \n  private observeResourceTiming(): void {\n    const observer = new PerformanceObserver((list) => {\n      list.getEntries().forEach((entry) => {\n        const resource = entry as PerformanceResourceTiming;\n        \n        this.addMetric({\n          type: 'resource',\n          name: resource.name,\n          value: resource.duration,\n          metadata: {\n            initiatorType: resource.initiatorType,\n            transferSize: resource.transferSize,\n            encodedBodySize: resource.encodedBodySize,\n            decodedBodySize: resource.decodedBodySize,\n          },\n        });\n      });\n    });\n    \n    observer.observe({ entryTypes: ['resource'] });\n    this.observers.push(observer);\n  }\n  \n  private observePaintTiming(): void {\n    const observer = new PerformanceObserver((list) => {\n      list.getEntries().forEach((entry) => {\n        this.addMetric({\n          type: 'paint',\n          name: entry.name,\n          value: entry.startTime,\n        });\n      });\n    });\n    \n    observer.observe({ entryTypes: ['paint'] });\n    this.observers.push(observer);\n  }\n  \n  private observeLCP(): void {\n    const observer = new PerformanceObserver((list) => {\n      const entries = list.getEntries();\n      const lastEntry = entries[entries.length - 1];\n      \n      this.addMetric({\n        type: 'lcp',\n        name: 'largest-contentful-paint',\n        value: lastEntry.startTime,\n        metadata: {\n          element: (lastEntry as any).element?.tagName,\n          url: (lastEntry as any).url,\n          size: (lastEntry as any).size,\n        },\n      });\n    });\n    \n    observer.observe({ entryTypes: ['largest-contentful-paint'] });\n    this.observers.push(observer);\n  }\n  \n  private observeFID(): void {\n    const observer = new PerformanceObserver((list) => {\n      list.getEntries().forEach((entry) => {\n        const fid = entry as PerformanceEventTiming;\n        \n        this.addMetric({\n          type: 'fid',\n          name: 'first-input-delay',\n          value: fid.processingStart - fid.startTime,\n          metadata: {\n            eventType: fid.name,\n            target: (fid as any).target?.tagName,\n          },\n        });\n      });\n    });\n    \n    observer.observe({ entryTypes: ['first-input'] });\n    this.observers.push(observer);\n  }\n  \n  private observeCLS(): void {\n    let clsValue = 0;\n    let clsEntries: any[] = [];\n    \n    const observer = new PerformanceObserver((list) => {\n      for (const entry of list.getEntries()) {\n        if (!(entry as any).hadRecentInput) {\n          clsValue += (entry as any).value;\n          clsEntries.push(entry);\n        }\n      }\n      \n      this.addMetric({\n        type: 'cls',\n        name: 'cumulative-layout-shift',\n        value: clsValue,\n        metadata: {\n          shifts: clsEntries.length,\n        },\n      });\n    });\n    \n    observer.observe({ entryTypes: ['layout-shift'] });\n    this.observers.push(observer);\n  }\n  \n  private observeUserTiming(): void {\n    const observer = new PerformanceObserver((list) => {\n      list.getEntries().forEach((entry) => {\n        this.addMetric({\n          type: entry.entryType as 'mark' | 'measure',\n          name: entry.name,\n          value: entry.entryType === 'measure' ? entry.duration : entry.startTime,\n        });\n      });\n    });\n    \n    observer.observe({ entryTypes: ['mark', 'measure'] });\n    this.observers.push(observer);\n  }\n  \n  private addMetric(metric: Omit<PerformanceMetric, 'id' | 'timestamp'>): void {\n    const fullMetric: PerformanceMetric = {\n      ...metric,\n      id: `perf-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      timestamp: Date.now(),\n    };\n    \n    this.metrics.value = [...this.metrics.value, fullMetric];\n  }\n  \n  public getMetrics(filter?: {\n    type?: PerformanceMetric['type'];\n    name?: string;\n    since?: number;\n  }): PerformanceMetric[] {\n    let results = this.metrics.value;\n    \n    if (filter?.type) {\n      results = results.filter(m => m.type === filter.type);\n    }\n    \n    if (filter?.name) {\n      results = results.filter(m => m.name.includes(filter.name));\n    }\n    \n    if (filter?.since) {\n      results = results.filter(m => m.timestamp > filter.since);\n    }\n    \n    return results;\n  }\n  \n  public getSummary(): Record<string, any> {\n    const navMetric = this.metrics.value.find(m => m.type === 'navigation');\n    const lcpMetric = this.metrics.value.find(m => m.type === 'lcp');\n    const fidMetric = this.metrics.value.find(m => m.type === 'fid');\n    const clsMetric = this.metrics.value.find(m => m.type === 'cls');\n    const fpMetric = this.metrics.value.find(m => m.name === 'first-paint');\n    const fcpMetric = this.metrics.value.find(m => m.name === 'first-contentful-paint');\n    \n    return {\n      pageLoad: navMetric?.value,\n      ttfb: navMetric?.metadata?.ttfb,\n      firstPaint: fpMetric?.value,\n      firstContentfulPaint: fcpMetric?.value,\n      largestContentfulPaint: lcpMetric?.value,\n      firstInputDelay: fidMetric?.value,\n      cumulativeLayoutShift: clsMetric?.value,\n      resourceCount: this.metrics.value.filter(m => m.type === 'resource').length,\n    };\n  }\n  \n  public stop(): void {\n    this.observers.forEach(observer => observer.disconnect());\n    this.observers = [];\n    this.isMonitoring = false;\n  }\n}","import { signal } from '@preact/signals';\n\nexport interface DOMChange {\n  id: string;\n  timestamp: number;\n  type: 'added' | 'removed' | 'attributes' | 'characterData';\n  target: {\n    tagName?: string;\n    id?: string;\n    className?: string;\n    path: string;\n  };\n  details?: Record<string, any>;\n}\n\nexport class DOMMonitor {\n  private changes = signal<DOMChange[]>([]);\n  private observer: MutationObserver | null = null;\n  private maxChanges = 1000;\n  private isMonitoring = false;\n  \n  public start(root: Element = document.body): void {\n    if (this.isMonitoring) return;\n    \n    this.observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        this.processMutation(mutation);\n      });\n    });\n    \n    this.observer.observe(root, {\n      childList: true,\n      attributes: true,\n      characterData: true,\n      subtree: true,\n      attributeOldValue: true,\n      characterDataOldValue: true,\n    });\n    \n    this.isMonitoring = true;\n  }\n  \n  private processMutation(mutation: MutationRecord): void {\n    switch (mutation.type) {\n      case 'childList':\n        this.processChildListMutation(mutation);\n        break;\n      case 'attributes':\n        this.processAttributeMutation(mutation);\n        break;\n      case 'characterData':\n        this.processCharacterDataMutation(mutation);\n        break;\n    }\n  }\n  \n  private processChildListMutation(mutation: MutationRecord): void {\n    // Added nodes\n    mutation.addedNodes.forEach(node => {\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        const element = node as Element;\n        this.addChange({\n          type: 'added',\n          target: this.extractElementInfo(element),\n          details: {\n            parentPath: this.getElementPath(mutation.target as Element),\n            html: element.outerHTML.substring(0, 200),\n          },\n        });\n      }\n    });\n    \n    // Removed nodes\n    mutation.removedNodes.forEach(node => {\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        const element = node as Element;\n        this.addChange({\n          type: 'removed',\n          target: this.extractElementInfo(element),\n          details: {\n            parentPath: this.getElementPath(mutation.target as Element),\n          },\n        });\n      }\n    });\n  }\n  \n  private processAttributeMutation(mutation: MutationRecord): void {\n    const element = mutation.target as Element;\n    \n    this.addChange({\n      type: 'attributes',\n      target: this.extractElementInfo(element),\n      details: {\n        attribute: mutation.attributeName,\n        oldValue: mutation.oldValue,\n        newValue: element.getAttribute(mutation.attributeName!),\n      },\n    });\n  }\n  \n  private processCharacterDataMutation(mutation: MutationRecord): void {\n    const node = mutation.target;\n    const parent = node.parentElement;\n    \n    if (parent) {\n      this.addChange({\n        type: 'characterData',\n        target: this.extractElementInfo(parent),\n        details: {\n          oldValue: mutation.oldValue,\n          newValue: node.textContent,\n        },\n      });\n    }\n  }\n  \n  private extractElementInfo(element: Element): DOMChange['target'] {\n    return {\n      tagName: element.tagName.toLowerCase(),\n      id: element.id,\n      className: element.className,\n      path: this.getElementPath(element),\n    };\n  }\n  \n  private getElementPath(element: Element): string {\n    const path: string[] = [];\n    let current: Element | null = element;\n    \n    while (current && current !== document.body) {\n      let selector = current.tagName.toLowerCase();\n      \n      if (current.id) {\n        selector += `#${current.id}`;\n      } else if (current.className) {\n        selector += `.${current.className.split(' ')[0]}`;\n      } else {\n        // Add index among siblings\n        const parent = current.parentElement;\n        if (parent) {\n          const index = Array.from(parent.children).indexOf(current);\n          selector += `:nth-child(${index + 1})`;\n        }\n      }\n      \n      path.unshift(selector);\n      current = current.parentElement;\n    }\n    \n    return path.join(' > ');\n  }\n  \n  private addChange(change: Omit<DOMChange, 'id' | 'timestamp'>): void {\n    const fullChange: DOMChange = {\n      ...change,\n      id: `dom-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      timestamp: Date.now(),\n    };\n    \n    const current = this.changes.value;\n    const updated = [...current, fullChange];\n    \n    if (updated.length > this.maxChanges) {\n      updated.splice(0, updated.length - this.maxChanges);\n    }\n    \n    this.changes.value = updated;\n  }\n  \n  public getChanges(filter?: {\n    type?: DOMChange['type'];\n    selector?: string;\n    since?: number;\n  }): DOMChange[] {\n    let results = this.changes.value;\n    \n    if (filter?.type) {\n      results = results.filter(c => c.type === filter.type);\n    }\n    \n    if (filter?.selector) {\n      results = results.filter(c => \n        c.target.path.includes(filter.selector) ||\n        c.target.id === filter.selector ||\n        c.target.className?.includes(filter.selector)\n      );\n    }\n    \n    if (filter?.since) {\n      results = results.filter(c => c.timestamp > filter.since);\n    }\n    \n    return results;\n  }\n  \n  public stop(): void {\n    this.observer?.disconnect();\n    this.observer = null;\n    this.isMonitoring = false;\n  }\n}","// Chrome DevTools Protocol integration\n// This provides enhanced capabilities when Chrome DevTools is available\nexport class DevToolsProtocol {\n  private isConnected = false;\n  private port: any = null;\n  \n  public async connect(): Promise<void> {\n    // Check if Chrome DevTools Protocol is available\n    if (typeof (globalThis as any).chrome !== 'undefined' && \n        (globalThis as any).chrome.runtime && \n        (globalThis as any).chrome.runtime.connect) {\n      try {\n        this.port = (globalThis as any).chrome.runtime.connect({ name: 'react-llm-devtools' });\n        this.isConnected = true;\n        console.log('[ReactLLM] Connected to Chrome DevTools Protocol');\n      } catch (error) {\n        console.info('[ReactLLM] Chrome DevTools Protocol not available:', error);\n        throw error;\n      }\n    } else {\n      throw new Error('Chrome DevTools Protocol not available');\n    }\n  }\n  \n  public disconnect(): void {\n    if (this.port) {\n      this.port.disconnect();\n      this.port = null;\n    }\n    this.isConnected = false;\n  }\n  \n  public isAvailable(): boolean {\n    return this.isConnected;\n  }\n  \n  // Enhanced console monitoring via CDP\n  public async getConsoleMessages(): Promise<any[]> {\n    if (!this.isConnected) return [];\n    \n    // In a real implementation, this would use CDP to get console messages\n    // For now, we return empty array as fallback to our own monitoring\n    return [];\n  }\n  \n  // Enhanced network monitoring via CDP\n  public async getNetworkRequests(): Promise<any[]> {\n    if (!this.isConnected) return [];\n    \n    // In a real implementation, this would use CDP to get network requests\n    // For now, we return empty array as fallback to our own monitoring\n    return [];\n  }\n  \n  // Enhanced performance monitoring via CDP\n  public async getPerformanceMetrics(): Promise<any[]> {\n    if (!this.isConnected) return [];\n    \n    // In a real implementation, this would use CDP to get performance metrics\n    // For now, we return empty array as fallback to our own monitoring\n    return [];\n  }\n  \n  // Send message to DevTools if available\n  public sendMessage(message: any): void {\n    if (this.port) {\n      this.port.postMessage(message);\n    }\n  }\n}","import { ConsoleMonitor } from './console-monitor';\nimport { NetworkMonitor } from './network-monitor';\nimport { PerformanceMonitor } from './performance-monitor';\nimport { DOMMonitor } from './dom-monitor';\nimport { DevToolsProtocol } from './devtools-protocol';\n\nexport class MonitorManager {\n  private console: ConsoleMonitor;\n  private network: NetworkMonitor;\n  private performance: PerformanceMonitor;\n  private dom: DOMMonitor;\n  private devtools: DevToolsProtocol | null = null;\n  private selectedComponents: any[] = [];\n  \n  constructor() {\n    this.console = new ConsoleMonitor();\n    this.network = new NetworkMonitor();\n    this.performance = new PerformanceMonitor();\n    this.dom = new DOMMonitor();\n    \n    // Try to initialize CDP if available\n    this.initializeDevTools();\n  }\n  \n  private async initializeDevTools(): Promise<void> {\n    try {\n      this.devtools = new DevToolsProtocol();\n      await this.devtools.connect();\n    } catch (error) {\n      console.info('[ReactLLM] DevTools Protocol not available, using fallback monitoring');\n    }\n  }\n  \n  public start(): void {\n    this.console.start();\n    this.network.start();\n    this.performance.start();\n    this.dom.start();\n  }\n  \n  public stop(): void {\n    this.console.stop();\n    this.network.stop();\n    this.performance.stop();\n    this.dom.stop();\n    this.devtools?.disconnect();\n  }\n  \n  public setSelectedComponents(components: any[]): void {\n    this.selectedComponents = components;\n  }\n  \n  public getContext(type: string, filter?: Record<string, any>): string {\n    switch (type) {\n      case 'console':\n        return this.formatConsoleContext(filter);\n      case 'network':\n        return this.formatNetworkContext(filter);\n      case 'performance':\n        return this.formatPerformanceContext(filter);\n      case 'dom':\n        return this.formatDOMContext(filter);\n      case 'components':\n        return this.formatComponentsContext(filter);\n      default:\n        return '';\n    }\n  }\n  \n  private formatConsoleContext(filter?: Record<string, any>): string {\n    const entries = this.console.getEntries(filter);\n    const recent = entries.slice(-50); // Last 50 entries\n    \n    return `## Console Logs\\n\\n${recent.map(entry => {\n      const time = new Date(entry.timestamp).toLocaleTimeString();\n      return `[${time}] [${entry.level.toUpperCase()}] ${entry.formatted}`;\n    }).join('\\n')}`;\n  }\n  \n  private formatNetworkContext(filter?: Record<string, any>): string {\n    const requests = this.network.getRequests(filter);\n    const recent = requests.slice(-20); // Last 20 requests\n    \n    return `## Network Requests\\n\\n${recent.map(req => {\n      const status = req.response?.status || 'pending';\n      const duration = req.duration ? `${req.duration}ms` : 'in progress';\n      return `${req.method} ${req.url} - ${status} (${duration})`;\n    }).join('\\n')}`;\n  }\n  \n  private formatPerformanceContext(filter?: Record<string, any>): string {\n    const summary = this.performance.getSummary();\n    \n    return `## Performance Metrics\\n\n- Page Load: ${summary.pageLoad}ms\n- TTFB: ${summary.ttfb}ms  \n- First Paint: ${summary.firstPaint}ms\n- First Contentful Paint: ${summary.firstContentfulPaint}ms\n- Largest Contentful Paint: ${summary.largestContentfulPaint}ms\n- First Input Delay: ${summary.firstInputDelay}ms\n- Cumulative Layout Shift: ${summary.cumulativeLayoutShift}\n- Resources Loaded: ${summary.resourceCount}`;\n  }\n  \n  private formatDOMContext(filter?: Record<string, any>): string {\n    const changes = this.dom.getChanges(filter);\n    const recent = changes.slice(-30); // Last 30 changes\n    \n    return `## DOM Changes\\n\\n${recent.map(change => {\n      const time = new Date(change.timestamp).toLocaleTimeString();\n      return `[${time}] ${change.type}: ${change.target.path}`;\n    }).join('\\n')}`;\n  }\n  \n  // Get specific monitor instances for direct access\n  public getConsoleMonitor(): ConsoleMonitor {\n    return this.console;\n  }\n  \n  public getNetworkMonitor(): NetworkMonitor {\n    return this.network;\n  }\n  \n  public getPerformanceMonitor(): PerformanceMonitor {\n    return this.performance;\n  }\n  \n  public getDOMMonitor(): DOMMonitor {\n    return this.dom;\n  }\n  \n  public getDevToolsProtocol(): DevToolsProtocol | null {\n    return this.devtools;\n  }\n  \n  private formatComponentsContext(filter?: Record<string, any>): string {\n    if (this.selectedComponents.length === 0) {\n      return '## Selected Components\\n\\nNo components currently selected.';\n    }\n    \n    return `## Selected Components\\n\\n${this.selectedComponents.map((comp, index) => {\n      const componentInfo = [\n        `### Component ${index + 1}: ${comp.name}`,\n        `- ID: ${comp.id}`,\n        `- Type: ${comp.fiberType}`,\n        comp.domElement ? `- DOM Element: <${comp.domElement.tagName.toLowerCase()}>` : '',\n        comp.sourceLocation ? `- Source: ${comp.sourceLocation.fileName}:${comp.sourceLocation.lineNumber}` : '',\n        `- Depth: ${comp.depth}`,\n        '',\n        '#### Props:',\n        '```json',\n        JSON.stringify(comp.props, null, 2),\n        '```',\n        '',\n        comp.state ? [\n          '#### State:',\n          '```json',\n          JSON.stringify(comp.state, null, 2),\n          '```',\n          ''\n        ].join('\\n') : '',\n        comp.hooks && comp.hooks.length > 0 ? [\n          '#### Hooks:',\n          comp.hooks.map((hook: any, i: number) => `${i + 1}. ${hook.name || 'Unknown Hook'}`).join('\\n'),\n          ''\n        ].join('\\n') : ''\n      ].filter(Boolean).join('\\n');\n      \n      return componentInfo;\n    }).join('\\n\\n')}`;\n  }\n}"],"mappings":"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","names":["import_preact","import_preact","import_signals","import_hooks","styles","devtools","devtools","devtools","node","fiber","ComponentInspector","import_hooks","chat","ComponentInspector","text","provider","enhancedMessages","import_signals","import_signals","init","import_signals","import_signals","isInitialized","shadow","styles"]}